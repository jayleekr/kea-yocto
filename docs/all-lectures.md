# KEA Yocto Project 5.0 LTS ê°•ì˜ - ì „ì²´ ë¬¸ì„œ
ì´ ë¬¸ì„œëŠ” ëª¨ë“  ê°•ì˜ ë‚´ìš©ì„ í•˜ë‚˜ë¡œ í•©ì¹œ í†µí•© ë¬¸ì„œì…ë‹ˆë‹¤.

---

# KEA Yocto Project 5.0 LTS ê°•ì˜

<div class="hero-section">
  <div class="hero-icon">ğŸ—ï¸</div>
  <h2 class="hero-title">Yocto Project</h2>
  <p class="hero-subtitle"><strong>Custom Linux Distribution Builder</strong></p>
</div>

!!! info "ê°•ì˜ ì •ë³´"
    - **ê°•ì˜ëª…**: Yocto Projectë¥¼ í™œìš©í•œ ì„ë² ë””ë“œ ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œ ê°œë°œ  
    - **ëŒ€ìƒ**: ì„ë² ë””ë“œ ì‹œìŠ¤í…œ ê°œë°œì, ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œ ì—”ì§€ë‹ˆì–´  
    - **ì‹œê°„**: 8ì‹œê°„ (íœ´ì‹ í¬í•¨)  
    - **í™˜ê²½**: Docker ê¸°ë°˜ Yocto 5.0 LTS (Scarthgap)  

---

## ğŸ¯ ê°•ì˜ ëª©í‘œ

!!! info "í•™ìŠµ ëª©í‘œ"
    ì´ ê°•ì˜ë¥¼ í†µí•´ ë‹¤ìŒì„ í•™ìŠµí•©ë‹ˆë‹¤:

    âœ… Yocto Projectì˜ ê¸°ë³¸ ê°œë…ê³¼ ì•„í‚¤í…ì²˜ ì´í•´  
    âœ… Docker í™˜ê²½ì—ì„œ Yocto ë¹Œë“œ í™˜ê²½ êµ¬ì¶•  
    âœ… ì»¤ìŠ¤í…€ ë¦¬ëˆ…ìŠ¤ ì´ë¯¸ì§€ ìƒì„± ë° ì‹¤í–‰  
    âœ… íŒ¨í‚¤ì§€ ì¶”ê°€ ë° ì´ë¯¸ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•  
    âœ… ì»¤ìŠ¤í…€ ë ˆì´ì–´ì™€ ë ˆì‹œí”¼ ì‘ì„±  
    âœ… ì‹¤ì œ í”„ë¡œì íŠ¸ ì ìš© ê°€ëŠ¥í•œ ì‹¤ë¬´ ì§€ì‹ ìŠµë“  

## ğŸ“‹ ê°•ì˜ ëª©ì°¨

| ì‹œê°„ | ë‚´ìš© | ìœ í˜• | ë¹„ê³  |
|------|------|------|------|
| 09:00-09:30 | [ê°•ì˜ ì†Œê°œ ë° ê°œìš”](lecture/intro.md) | ì´ë¡  | 30ë¶„ |
| 09:30-10:30 | [Yocto ê¸°ë³¸ êµ¬ì¡° ë° ì•„í‚¤í…ì²˜](lecture/architecture.md) | ì´ë¡  | 60ë¶„ |
| 10:45-11:30 | [Yocto ë¹Œë“œ í™˜ê²½ ì„¤ì •](lecture/setup.md) | ì‹¤ìŠµ | 45ë¶„ |
| 11:30-12:30 | [ì²« ë¹Œë“œ: ì½”ì–´ ì´ë¯¸ì§€ ë° ë¹Œë“œ í”„ë¡œì„¸ìŠ¤](lecture/first-build.md) | ì‹¤ìŠµ+ì´ë¡  | 60ë¶„ |
| 13:30-14:00 | [ë¹Œë“œëœ ì´ë¯¸ì§€ ì‹¤í–‰í•˜ê¸°](lecture/run-image.md) | ì‹¤ìŠµ | 30ë¶„ |
| 14:00-14:30 | [ì´ë¯¸ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•: íŒ¨í‚¤ì§€ ì¶”ê°€](lecture/customize.md) | ì‹¤ìŠµ | 30ë¶„ |
| 14:45-16:00 | [ì»¤ìŠ¤í…€ ë ˆì´ì–´ ë° ë ˆì‹œí”¼ ìƒì„±](lecture/custom-layer.md) | ì‹¤ìŠµ | 75ë¶„ |
| 16:00-16:30 | [Yocto ê³ ê¸‰ ì£¼ì œ ê°œìš”](lecture/advanced.md) | ì´ë¡  | 30ë¶„ |
| 16:30-17:00 | [ë§ˆë¬´ë¦¬ ë° Q&A](lecture/conclusion.md) | í† ë¡  | 30ë¶„ |

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

!!! tip "ì‹¤ìŠµ í™˜ê²½ ì¤€ë¹„"
    ```bash
    # í”„ë¡œì íŠ¸ í´ë¡ 
    git clone https://github.com/jayleekr/kea-yocto.git
    cd kea-yocto
    
    # Docker í™˜ê²½ ì‹œì‘
    ./scripts/quick-start.sh
    ```

## ğŸ“š ì£¼ìš” íŠ¹ì§•

=== "ğŸ‹ Docker ê¸°ë°˜"
    - ì¼ê´€ëœ ê°œë°œ í™˜ê²½ ì œê³µ
    - í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œ ì˜í–¥ ìµœì†Œí™”
    - ë¹ ë¥¸ í™˜ê²½ êµ¬ì¶•

=== "âš¡ ìµœì í™”ëœ ë¹Œë“œ"
    - ì›¹ ìºì‹œ í™œìš©ìœ¼ë¡œ ë¹Œë“œ ì‹œê°„ ë‹¨ì¶•
    - íš¨ìœ¨ì ì¸ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©
    - ë³‘ë ¬ ë¹Œë“œ ì§€ì›

=== "ğŸ“ ì‹¤ìŠµ ì¤‘ì‹¬"
    - ë‹¨ê³„ë³„ ì‹¤ìŠµ ê°€ì´ë“œ
    - ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€ ê¸°ë°˜
    - ë¬¸ì œ í•´ê²° ì¤‘ì‹¬ í•™ìŠµ

## ğŸ”— ìœ ìš©í•œ ë§í¬

- [Yocto Project ê³µì‹ ë¬¸ì„œ](https://docs.yoctoproject.org/5.0/)
- [OpenEmbedded Layer Index](https://layers.openembedded.org/)
- [BitBake ì‚¬ìš©ì ë§¤ë‰´ì–¼](https://docs.yoctoproject.org/bitbake/)
- [Yocto Project Quick Build](https://docs.yoctoproject.org/brief-yoctoprojectqs/)

---

!!! warning "ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­"
    - **CPU**: 4ì½”ì–´ ì´ìƒ
    - **RAM**: 8GB (ê¶Œì¥ 16GB)
    - **Storage**: 50GB ì—¬ìœ  ê³µê°„
    - **Docker**: 20.10 ì´ìƒ 



---

<div style='page-break-before: always;'></div>

# 1. Yocto Project ì†Œê°œ

# ê°•ì˜ ì†Œê°œ ë° ê°œìš”

## Yocto Projectë€?

**Yocto Project**ëŠ” ì„ë² ë””ë“œ ë¦¬ëˆ…ìŠ¤ ë°°í¬íŒì„ ë§Œë“¤ê¸° ìœ„í•œ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

### í•µì‹¬ íŠ¹ì§•

!!! note "Yocto Project ì£¼ìš” íŠ¹ì§•"
    - ğŸ“¦ **ì»¤ìŠ¤í…€ ë¦¬ëˆ…ìŠ¤ ë°°í¬íŒ** ìƒì„±
    - ğŸ”§ **í¬ë¡œìŠ¤ ì»´íŒŒì¼ íˆ´ì²´ì¸** ìë™ ìƒì„±
    - ğŸ“š **ë ˆì‹œí”¼ ê¸°ë°˜** íŒ¨í‚¤ì§€ ê´€ë¦¬
    - ğŸ¯ **íƒ€ê²Ÿ í•˜ë“œì›¨ì–´** ìµœì í™”

### ì£¼ìš” êµ¬ì„± ìš”ì†Œ

=== "Poky"
    **Yoctoì˜ ì°¸ì¡° ë°°í¬íŒ**
    
    - Yocto Projectì˜ ê¸°ë³¸ êµ¬í˜„ì²´
    - ìµœì†Œí•œì˜ Linux ì‹œìŠ¤í…œ êµ¬ì¶•ì„ ìœ„í•œ ê¸°ë³¸ ì„¤ì •
    - ë‹¤ë¥¸ ë°°í¬íŒì˜ ê¸°ì¤€ì  ì—­í• 

=== "BitBake"
    **ë¹Œë“œ ë„êµ¬ ë° íƒœìŠ¤í¬ ì‹¤í–‰ê¸°**
    
    - Pythonê³¼ shell ê¸°ë°˜ì˜ ë¹Œë“œ ì‹œìŠ¤í…œ
    - ì˜ì¡´ì„± ê¸°ë°˜ ë³‘ë ¬ ë¹Œë“œ ì§€ì›
    - íƒœìŠ¤í¬ ìŠ¤ì¼€ì¤„ë§ ë° ì‹¤í–‰ ê´€ë¦¬

=== "OpenEmbedded"
    **ë©”íƒ€ë°ì´í„° ë° ë ˆì‹œí”¼ ì €ì¥ì†Œ**
    
    - íŒ¨í‚¤ì§€ ë¹Œë“œë¥¼ ìœ„í•œ ë©”íƒ€ë°ì´í„° ì œê³µ
    - ë ˆì‹œí”¼(.bb), í´ë˜ìŠ¤(.bbclass) íŒŒì¼ ê´€ë¦¬
    - í¬ë¡œìŠ¤ í”Œë«í¼ ë¹Œë“œ ì§€ì›

## ê°•ì˜ ëª©í‘œ

!!! success "ì´ ê°•ì˜ë¥¼ í†µí•´ í•™ìŠµí•  ë‚´ìš©"
    âœ… Yocto Projectì˜ ê¸°ë³¸ ê°œë…ê³¼ ì•„í‚¤í…ì²˜ ì´í•´  
    âœ… Docker í™˜ê²½ì—ì„œ Yocto ë¹Œë“œ í™˜ê²½ êµ¬ì¶•  
    âœ… ì»¤ìŠ¤í…€ ë¦¬ëˆ…ìŠ¤ ì´ë¯¸ì§€ ìƒì„± ë° ì‹¤í–‰  
    âœ… íŒ¨í‚¤ì§€ ì¶”ê°€ ë° ì´ë¯¸ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•  
    âœ… ì»¤ìŠ¤í…€ ë ˆì´ì–´ì™€ ë ˆì‹œí”¼ ì‘ì„±  
    âœ… ì‹¤ì œ í”„ë¡œì íŠ¸ ì ìš© ê°€ëŠ¥í•œ ì‹¤ë¬´ ì§€ì‹ ìŠµë“  

## ì „í†µì ì¸ ë°°í¬íŒ vs Yocto Project

| êµ¬ë¶„ | ì „í†µì ì¸ ë°°í¬íŒ | Yocto Project |
|------|----------------|---------------|
| **ì ‘ê·¼ ë°©ë²•** | ë¯¸ë¦¬ ë¹Œë“œëœ íŒ¨í‚¤ì§€ | ì†ŒìŠ¤ì—ì„œ ë¹Œë“œ |
| **íŒ¨í‚¤ì§€ ê´€ë¦¬** | APT, YUM ë“± | ë ˆì‹œí”¼ ê¸°ë°˜ |
| **ì»¤ìŠ¤í„°ë§ˆì´ì§•** | ì œí•œì  | ì™„ì „í•œ ì œì–´ |
| **í¬ê¸° ìµœì í™”** | ì–´ë ¤ì›€ | í•„ìš”í•œ ê²ƒë§Œ í¬í•¨ |
| **í¬ë¡œìŠ¤ ì»´íŒŒì¼** | ë³µì¡í•¨ | ìë™ ì§€ì› |

!!! tip "ì™œ Yoctoë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?"
    - **ì™„ì „í•œ ì œì–´**: ì‹œìŠ¤í…œì˜ ëª¨ë“  êµ¬ì„± ìš”ì†Œë¥¼ ì§ì ‘ ì œì–´
    - **ìµœì í™”**: íƒ€ê²Ÿ í•˜ë“œì›¨ì–´ì— ìµœì í™”ëœ ì‹œìŠ¤í…œ êµ¬ì¶•
    - **ë³´ì•ˆ**: ë¶ˆí•„ìš”í•œ íŒ¨í‚¤ì§€ ì œê±°ë¡œ ê³µê²© í‘œë©´ ìµœì†Œí™”
    - **ë¼ì´ì„ ìŠ¤ ê´€ë¦¬**: ëª…í™•í•œ ë¼ì´ì„ ìŠ¤ ì¶”ì  ë° ê´€ë¦¬

## í•™ìŠµ ì „ ì¤€ë¹„ì‚¬í•­

### í•„ìš”í•œ ê¸°ë³¸ ì§€ì‹

!!! info "ê¶Œì¥ ë°°ê²½ ì§€ì‹"
    - **Linux ì‹œìŠ¤í…œ ê¸°ë³¸ ì§€ì‹**
    - **í„°ë¯¸ë„/ëª…ë ¹ì¤„ ì‚¬ìš© ê²½í—˜**
    - **ê¸°ë³¸ì ì¸ C/C++ í”„ë¡œê·¸ë˜ë° ì´í•´**
    - **Makefile ë° ë¹Œë“œ ì‹œìŠ¤í…œ ê°œë…**

### ì‹¤ìŠµ í™˜ê²½

!!! warning "ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­"
    - **CPU**: 4ì½”ì–´ ì´ìƒ (ê¶Œì¥: 8ì½”ì–´)
    - **RAM**: 8GB ì´ìƒ (ê¶Œì¥: 16GB)
    - **Storage**: 50GB ì—¬ìœ  ê³µê°„
    - **Docker**: 20.10 ì´ìƒ
    - **ë„¤íŠ¸ì›Œí¬**: ì•ˆì •ì ì¸ ì¸í„°ë„· ì—°ê²°

## ê°•ì˜ ì§„í–‰ ë°©ì‹

### ì‹¤ìŠµ ì¤‘ì‹¬ í•™ìŠµ

```mermaid
graph LR
    A[ì´ë¡  ì„¤ëª…] --> B[ì‹¤ìŠµ ì§„í–‰]
    B --> C[ê²°ê³¼ í™•ì¸]
    C --> D[ë¬¸ì œ í•´ê²°]
    D --> E[ì‹¬í™” í•™ìŠµ]
    E --> A
```

### ë‹¨ê³„ì  í•™ìŠµ

1. **ê°œë… ì´í•´**: ê¸°ë³¸ ì´ë¡ ê³¼ ì•„í‚¤í…ì²˜ í•™ìŠµ
2. **í™˜ê²½ êµ¬ì¶•**: Docker ê¸°ë°˜ ì‹¤ìŠµ í™˜ê²½ ì„¤ì •
3. **ê¸°ë³¸ ë¹Œë“œ**: ì²« ë²ˆì§¸ ì´ë¯¸ì§€ ë¹Œë“œ ê²½í—˜
4. **ì»¤ìŠ¤í„°ë§ˆì´ì§•**: íŒ¨í‚¤ì§€ ì¶”ê°€ ë° ì„¤ì • ë³€ê²½
5. **ê³ ê¸‰ í™œìš©**: ì»¤ìŠ¤í…€ ë ˆì´ì–´ ë° ë ˆì‹œí”¼ ì‘ì„±

!!! example "ì‹¤ìŠµ ì˜ˆì œ"
    ëª¨ë“  ì‹¤ìŠµì€ ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ ì§„í–‰ë©ë‹ˆë‹¤:
    
    ```bash
    # 1. ëª©í‘œ ì„¤ëª…
    echo "Hello World ì• í”Œë¦¬ì¼€ì´ì…˜ì„ Yocto ì´ë¯¸ì§€ì— ì¶”ê°€í•˜ê¸°"
    
    # 2. ë‹¨ê³„ë³„ ì‹¤í–‰
    bitbake hello-world
    
    # 3. ê²°ê³¼ í™•ì¸
    ls tmp/deploy/images/qemux86-64/
    
    # 4. í…ŒìŠ¤íŠ¸
    runqemu qemux86-64
    ```

---

ë‹¤ìŒ: [Yocto ê¸°ë³¸ êµ¬ì¡° ë° ì•„í‚¤í…ì²˜](architecture.md) â†’ 



---

<div style='page-break-before: always;'></div>

# 2. ì•„í‚¤í…ì²˜ ì´í•´

# Yocto ê¸°ë³¸ êµ¬ì¡° ë° ì•„í‚¤í…ì²˜

## Yocto Project ê°œë…ì  ì´í•´

### í•µì‹¬ ì² í•™

Yocto ProjectëŠ” **"Create a custom Linux distribution for any hardware"**ë¼ëŠ” ëª©í‘œë¥¼ ê°€ì§€ê³  ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì „í†µì ì¸ Linux ë°°í¬íŒê³¼ ë‹¬ë¦¬, YoctoëŠ” **ë¹Œë“œ ì‹œìŠ¤í…œ ì ‘ê·¼ ë°©ì‹**ì„ íƒí–ˆìŠµë‹ˆë‹¤:

| êµ¬ë¶„ | ì „í†µì ì¸ ë°°í¬íŒ | Yocto Project |
|------|----------------|---------------|
| ì ‘ê·¼ ë°©ë²• | ë¯¸ë¦¬ ë¹Œë“œëœ íŒ¨í‚¤ì§€ | ì†ŒìŠ¤ì—ì„œ ë¹Œë“œ |
| íŒ¨í‚¤ì§€ ê´€ë¦¬ | APT, YUM ë“± | ë ˆì‹œí”¼ ê¸°ë°˜ |
| ì»¤ìŠ¤í„°ë§ˆì´ì§• | ì œí•œì  | ì™„ì „í•œ ì œì–´ |
| í¬ê¸° ìµœì í™” | ì–´ë ¤ì›€ | í•„ìš”í•œ ê²ƒë§Œ í¬í•¨ |
| í¬ë¡œìŠ¤ ì»´íŒŒì¼ | ë³µì¡í•¨ | ìë™ ì§€ì› |

### í•µì‹¬ êµ¬ì„± ìš”ì†Œ

=== "BitBake (ë¹Œë“œ ë„êµ¬)"
    **Yoctoì˜ íƒœìŠ¤í¬ ì‹¤í–‰ ì—”ì§„**
    
    - Pythonê³¼ shell ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‘ì„±ëœ ë ˆì‹œí”¼ë¥¼ íŒŒì‹±
    - ì˜ì¡´ì„± ê¸°ë°˜ ë³‘ë ¬ ë¹Œë“œ ì§€ì›
    - ê³µìœ  ìƒíƒœ ìºì‹œ(sstate-cache)ë¡œ ë¹Œë“œ ì‹œê°„ ë‹¨ì¶•
    - ì£¼ìš” ëª…ë ¹ì–´: `bitbake core-image-minimal`

=== "Poky (ì°¸ì¡° ë°°í¬íŒ)"
    **Yocto Projectì˜ ì°¸ì¡° êµ¬í˜„ì²´**
    
    - OpenEmbedded-Core (OE-Core): í•µì‹¬ ë©”íƒ€ë°ì´í„°
    - BitBake: ë¹Œë“œ ë„êµ¬
    - ë¬¸ì„œ ë° ê°œë°œ ë„êµ¬
    - ìµœì†Œí•œì˜ Linux ë°°í¬íŒì„ ë§Œë“¤ê¸° ìœ„í•œ ê¸°ë³¸ ì„¤ì • ì œê³µ

=== "OpenEmbedded (ë©”íƒ€ë°ì´í„° í”„ë ˆì„ì›Œí¬)"
    **íŒ¨í‚¤ì§€ ë¹Œë“œë¥¼ ìœ„í•œ ë©”íƒ€ë°ì´í„° ì œê³µ**
    
    - **ë ˆì‹œí”¼ (.bb)**: ê°œë³„ ì†Œí”„íŠ¸ì›¨ì–´ íŒ¨í‚¤ì§€ ë¹Œë“œ ë°©ë²• ì •ì˜
    - **í´ë˜ìŠ¤ (.bbclass)**: ê³µí†µ ë¹Œë“œ ë¡œì§ ì¬ì‚¬ìš©
    - **ì„¤ì • (.conf)**: ë¹Œë“œ í™˜ê²½ ë° ì •ì±… ì •ì˜
    - **ì–´íœë“œ (.bbappend)**: ê¸°ì¡´ ë ˆì‹œí”¼ í™•ì¥

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph "Host System"
        H1["ğŸ’» Host OS"]
        H2["ğŸ‹ Docker Engine"]
        H3["ğŸ“ Project Directory"]
    end
    
    subgraph "Yocto Container Environment"
        subgraph "Ubuntu 24.04 Base"
            U1["ğŸ§ Ubuntu Base"]
            U2["ğŸ› ï¸ Build Dependencies"]
        end
        
        subgraph "Yocto Project 5.0 LTS"
            Y1["ğŸ“‹ Poky Reference"]
            Y2["âš™ï¸ BitBake Build System"]
            Y3["ğŸ“¦ Meta Layers"]
        end
        
        subgraph "Build & Runtime"
            B1["ğŸ—ï¸ Build Directory"]
            B2["ğŸ’¾ Downloads Cache"]
            B3["ğŸ¯ QEMU Emulator"]
            B4["ğŸ–¼ï¸ Generated Images"]
        end
    end
    
    H1 --> H2
    H2 --> U1
    U1 --> Y1
    Y1 --> Y2
    Y2 --> Y3
    Y2 --> B1
    B1 --> B4
    B4 --> B3
```

## ë ˆì´ì–´ ëª¨ë¸ì˜ ì´í•´

### ë ˆì´ì–´ì˜ ëª©ì ê³¼ ì¥ì 

!!! success "ë ˆì´ì–´ ëª¨ë¸ì˜ ì¥ì "
    - âœ… **ëª¨ë“ˆì„±**: ê¸°ëŠ¥ë³„ë¡œ ë¶„ë¦¬ëœ ë…ë¦½ì ì¸ êµ¬ì„±
    - âœ… **ì¬ì‚¬ìš©ì„±**: ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œ ë ˆì´ì–´ ì¬í™œìš© ê°€ëŠ¥
    - âœ… **ìœ ì§€ë³´ìˆ˜**: ê° ë ˆì´ì–´ë³„ ë…ë¦½ì  ì—…ë°ì´íŠ¸
    - âœ… **í˜‘ì—…**: íŒ€ë³„ ë ˆì´ì–´ ë¶„ë‹´ ê°œë°œ

### ë ˆì´ì–´ ê³„ì¸µ êµ¬ì¡°

```mermaid
graph TB
    subgraph "Core Layers (í•„ìˆ˜)"
        Meta["meta<br/>ğŸ—ï¸ Core Layer"]
        MetaPoky["meta-poky<br/>ğŸ¯ Distro Layer"]
        MetaYocto["meta-yocto-bsp<br/>ğŸ’» BSP Layer"]
    end
    
    subgraph "OpenEmbedded Layers"
        MetaOE["meta-openembedded<br/>ğŸ“¦ í™•ì¥ íŒ¨í‚¤ì§€"]
        MetaNetworking["meta-networking<br/>ğŸŒ ë„¤íŠ¸ì›Œí‚¹"]
        MetaPython["meta-python<br/>ğŸ Python"]
    end
    
    subgraph "Custom Layers"
        MetaMyApp["meta-myapp<br/>ğŸš€ ì»¤ìŠ¤í…€ ì•±"]
        MetaCompany["meta-company<br/>ğŸ¢ íšŒì‚¬ ì „ìš©"]
    end
```

### ë ˆì´ì–´ ìš°ì„ ìˆœìœ„ ì‹œìŠ¤í…œ

```bash
BBFILE_PRIORITY_meta-custom = "10"
BBFILE_PRIORITY_meta-oe = "6" 
BBFILE_PRIORITY_meta = "5"
```

!!! tip "ìš°ì„ ìˆœìœ„ ê·œì¹™"
    - ë†’ì€ ìˆ«ì = ë†’ì€ ìš°ì„ ìˆœìœ„
    - ê°™ì€ ë ˆì‹œí”¼ê°€ ì—¬ëŸ¬ ë ˆì´ì–´ì— ìˆì„ ê²½ìš° ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ë ˆì´ì–´ì˜ ë ˆì‹œí”¼ ì‚¬ìš©

## ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ ì‹¬í™”

### BitBake ì‘ì—… íë¦„

```mermaid
flowchart TD
    Start([ğŸš€ BitBake ì‹œì‘]) --> Parse[ğŸ“– Recipe íŒŒì‹±]
    Parse --> Deps[ğŸ”— ì˜ì¡´ì„± í•´ê²°]
    Deps --> Tasks[ğŸ“‹ Task ìƒì„±]
    
    subgraph "ë³‘ë ¬ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤"
        Tasks --> Fetch[â¬‡ï¸ do_fetch<br/>ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ]
        Fetch --> Unpack[ğŸ“¦ do_unpack<br/>ì••ì¶• í•´ì œ]
        Unpack --> Patch[ğŸ”§ do_patch<br/>íŒ¨ì¹˜ ì ìš©]
        Patch --> Configure[âš™ï¸ do_configure<br/>ë¹Œë“œ ì„¤ì •]
        Configure --> Compile[ğŸ”¨ do_compile<br/>ì»´íŒŒì¼]
        Compile --> Install[ğŸ“ do_install<br/>ì„¤ì¹˜]
        Install --> Package[ğŸ“¦ do_package<br/>íŒ¨í‚¤ì§€ ìƒì„±]
    end
    
    Package --> SState{ğŸ—„ï¸ sstate-cache<br/>í™•ì¸}
    SState -->|ìºì‹œ ì ì¤‘| Reuse[â™»ï¸ ìºì‹œ ì¬ì‚¬ìš©]
    SState -->|ìºì‹œ ì—†ìŒ| Build[ğŸ—ï¸ ìƒˆë¡œ ë¹Œë“œ]
    
    Reuse --> Image[ğŸ–¼ï¸ ì´ë¯¸ì§€ ìƒì„±]
    Build --> Image
    Image --> Deploy[ğŸ“¤ Deploy]
```

### ì£¼ìš” íƒœìŠ¤í¬ ì„¤ëª…

| íƒœìŠ¤í¬ | ëª©ì  | ì…ë ¥ | ì¶œë ¥ |
|--------|------|------|------|
| `do_fetch` | ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ | SRC_URI | DL_DIR/*.tar.gz |
| `do_unpack` | ì••ì¶• í•´ì œ | ë‹¤ìš´ë¡œë“œëœ íŒŒì¼ | WORKDIR/source |
| `do_patch` | íŒ¨ì¹˜ ì ìš© | ì†ŒìŠ¤ + íŒ¨ì¹˜ íŒŒì¼ | íŒ¨ì¹˜ëœ ì†ŒìŠ¤ |
| `do_configure` | ë¹Œë“œ ì„¤ì • | ì†ŒìŠ¤ | Makefile/CMake |
| `do_compile` | ì»´íŒŒì¼ | ì„¤ì •ëœ ì†ŒìŠ¤ | ë°”ì´ë„ˆë¦¬ |
| `do_install` | íŒŒì¼ ì„¤ì¹˜ | ë°”ì´ë„ˆë¦¬ | image/ ë””ë ‰í† ë¦¬ |
| `do_package` | íŒ¨í‚¤ì§€ ìƒì„± | ì„¤ì¹˜ëœ íŒŒì¼ | .deb/.rpm ë“± |

## í¬ë¡œìŠ¤ ì»´íŒŒì¼ íˆ´ì²´ì¸

### íˆ´ì²´ì¸ êµ¬ì„± ìš”ì†Œ

!!! info "ìë™ ìƒì„±ë˜ëŠ” íˆ´ì²´ì¸"
    - **gcc-cross**: í¬ë¡œìŠ¤ ì»´íŒŒì¼ëŸ¬
    - **binutils-cross**: ë§ì»¤, ì–´ì…ˆë¸”ëŸ¬ ë“± ë°”ì´ë„ˆë¦¬ ë„êµ¬  
    - **glibc**: íƒ€ê²Ÿìš© C ë¼ì´ë¸ŒëŸ¬ë¦¬
    - **kernel-headers**: ì»¤ë„ í—¤ë” íŒŒì¼

### íƒ€ê²Ÿ ì•„í‚¤í…ì²˜ ì˜ˆì‹œ

```bash
# ARMìš© ë¹Œë“œ ì„¤ì •
MACHINE = "beaglebone-yocto"
TARGET_ARCH = "arm"
TUNE_FEATURES = "arm armv7a neon"
```

---

â† [ê°•ì˜ ì†Œê°œ](intro.md) | [ë¹Œë“œ í™˜ê²½ ì„¤ì •](setup.md) â†’ 



---

<div style='page-break-before: always;'></div>

# 3. í™˜ê²½ ì„¤ì •

# Yocto ë¹Œë“œ í™˜ê²½ ì„¤ì •

!!! tip "Docker ê¸°ë°˜ í™˜ê²½"
    ì´ ê°•ì˜ì—ì„œëŠ” Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ ì¼ê´€ëœ ê°œë°œ í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤.

## ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

### ìµœì†Œ ìš”êµ¬ì‚¬í•­

!!! warning "ì‹œìŠ¤í…œ ì‚¬ì–‘"
    - **CPU**: 4ì½”ì–´ ì´ìƒ (ê¶Œì¥: 8ì½”ì–´)
    - **RAM**: 8GB ì´ìƒ (ê¶Œì¥: 16GB)
    - **Storage**: 50GB ì—¬ìœ  ê³µê°„
    - **Docker**: 20.10 ì´ìƒ

### ì§€ì› í”Œë«í¼

- âœ… x86_64 (Intel/AMD)
- âœ… ARM64 (Apple Silicon)
- âœ… Virtual Machines

## Docker í™˜ê²½ ì„¤ì • ì‹¤ìŠµ

### ë¹ ë¥¸ ì‹œì‘

```bash
# í”„ë¡œì íŠ¸ í´ë¡ 
git clone https://github.com/jayleekr/kea-yocto.git
cd kea-yocto

# ì‹œìŠ¤í…œ ìƒíƒœ ì‚¬ì „ í™•ì¸ (ê¶Œì¥)
./scripts/quick-start.sh --dry-run

# Docker í™˜ê²½ ì‹œì‘
./scripts/quick-start.sh
```

### ë‹¨ê³„ë³„ ì„¤ì • ê³¼ì •

```mermaid
flowchart TD
    Start([ğŸ¯ í™˜ê²½ ì„¤ì • ì‹œì‘]) --> Check{ğŸ’» ì‹œìŠ¤í…œ í™•ì¸}
    Check -->|x86_64 VM| VMSetup[ğŸ–¥ï¸ VM í™˜ê²½ ì„¤ì •]
    Check -->|ARM64 VM| ARMSetup[ğŸ”§ ARM64 íŠ¹ë³„ ì„¤ì •]
    Check -->|Mac Apple Silicon| MacSetup[ğŸ Mac ì„¤ì •]
    Check -->|ì¼ë°˜ í™˜ê²½| GeneralSetup[âš™ï¸ ì¼ë°˜ ì„¤ì •]
    
    VMSetup --> QuickStart[ğŸš€ ë¹ ë¥¸ ì‹œì‘]
    ARMSetup --> QuickStart
    MacSetup --> QuickStart
    GeneralSetup --> QuickStart
    
    QuickStart --> Success[âœ… í™˜ê²½ ì„¤ì • ì™„ë£Œ]
```

### ì»¨í…Œì´ë„ˆ ì§„ì… í™•ì¸

```bash
# ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì‹¤í–‰
whoami  # yocto ì‚¬ìš©ì í™•ì¸
pwd     # /workspace ë””ë ‰í† ë¦¬ í™•ì¸
ls -la  # íŒŒì¼ êµ¬ì¡° í™•ì¸
```

## í™˜ê²½ ìµœì í™”

### ë¹Œë“œ ì‹œê°„ ìµœì í™” ì „ëµ

| ë°©ë²• | ì²« ë¹Œë“œ ì‹œê°„ | ì´í›„ ë¹Œë“œ | ì„¤ì • ë‚œì´ë„ |
|------|-------------|-----------|------------|
| ê¸°ë³¸ ë°©ì‹ | 2-3ì‹œê°„ | 30ë¶„ | ì‰¬ì›€ |
| **ì›¹ ìºì‹œ** | **30ë¶„** | **10ë¶„** | **ì‰¬ì›€** â­ |
| CDN ìºì‹œ | 15ë¶„ | 5ë¶„ | ë³´í†µ |

### ë©”ëª¨ë¦¬ ìµœì í™” ì„¤ì •

```bash
# local.confì— ì¶”ê°€í•  ì„¤ì •ë“¤
echo 'BB_NUMBER_THREADS = "4"' >> conf/local.conf
echo 'PARALLEL_MAKE = "-j 4"' >> conf/local.conf
```

### Docker ë¦¬ì†ŒìŠ¤ ì„¤ì •

!!! tip "Docker Desktop ì„¤ì •"
    **macOS/Windows Docker Desktopì—ì„œ:**
    
    1. Docker Desktop â†’ Settings â†’ Resources
    2. **Memory**: ìµœì†Œ 8GB í• ë‹¹
    3. **CPUs**: ê°€ëŠ¥í•œ ë§ì´ í• ë‹¹ (4ì½”ì–´ ì´ìƒ)
    4. **Disk image size**: ìµœì†Œ 100GB

### ë„¤íŠ¸ì›Œí¬ ìµœì í™”

```bash
# ë¹ ë¥¸ ë¯¸ëŸ¬ ì„œë²„ ì‚¬ìš©
echo 'MIRRORS += "git://.*/.* http://downloads.yoctoproject.org/mirror/sources/"' >> conf/local.conf
echo 'MIRRORS += "ftp://.*/.* http://downloads.yoctoproject.org/mirror/sources/"' >> conf/local.conf
echo 'MIRRORS += "http://.*/.* http://downloads.yoctoproject.org/mirror/sources/"' >> conf/local.conf
echo 'MIRRORS += "https://.*/.* http://downloads.yoctoproject.org/mirror/sources/"' >> conf/local.conf
```

## í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### ì¤‘ìš”í•œ í™˜ê²½ ë³€ìˆ˜

```bash
# ë¹Œë“œ ë””ë ‰í† ë¦¬
BUILDDIR="/workspace/build"

# ë‹¤ìš´ë¡œë“œ ë””ë ‰í† ë¦¬ (ê³µìœ  ê°€ëŠ¥)
DL_DIR="/workspace/downloads"

# ìƒíƒœ ìºì‹œ ë””ë ‰í† ë¦¬ (ê³µìœ  ê°€ëŠ¥)  
SSTATE_DIR="/workspace/sstate-cache"

# ì„ì‹œ ë””ë ‰í† ë¦¬
TMPDIR="/workspace/build/tmp"
```

### í¸ì˜ í•¨ìˆ˜ í™œìš©

```bash
# Yocto í™˜ê²½ ì´ˆê¸°í™”
yocto_init() {
    source /opt/poky/oe-init-build-env /workspace/build
}

# ë¹ ë¥¸ ë¹Œë“œ
yocto_quick_build() {
    bitbake core-image-minimal
}

# ìºì‹œ ì •ë¦¬
yocto_clean() {
    rm -rf /workspace/build/tmp
}
```

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

!!! danger "ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±"
    **ì¦ìƒ**: ë¹Œë“œ ì¤‘ "No space left on device" ì—ëŸ¬
    
    **í•´ê²°ì±…**:
    ```bash
    # ë¶ˆí•„ìš”í•œ íŒŒì¼ ì •ë¦¬
    docker system prune -f
    
    # ë¹Œë“œ ì„ì‹œ íŒŒì¼ ì •ë¦¬
    rm -rf /workspace/build/tmp
    ```

!!! warning "ë©”ëª¨ë¦¬ ë¶€ì¡±"
    **ì¦ìƒ**: ë¹Œë“œê°€ ë©ˆì¶”ê±°ë‚˜ ì‹œìŠ¤í…œì´ ëŠë ¤ì§
    
    **í•´ê²°ì±…**:
    ```bash
    # ë³‘ë ¬ ë¹Œë“œ ìˆ˜ ì¡°ì •
    echo 'BB_NUMBER_THREADS = "2"' >> conf/local.conf
    echo 'PARALLEL_MAKE = "-j 2"' >> conf/local.conf
    ```

!!! info "ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¬¸ì œ"
    **ì¦ìƒ**: ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨
    
    **í•´ê²°ì±…**:
    ```bash
    # ì¬ì‹œë„ ì„¤ì • ì¶”ê°€
    echo 'BB_FETCH_PREMIRRORONLY = "0"' >> conf/local.conf
    echo 'BB_NO_NETWORK = "0"' >> conf/local.conf
    ```

### í™˜ê²½ ì´ˆê¸°í™”

```bash
# ì™„ì „í•œ í™˜ê²½ ë¦¬ì…‹
docker compose down
docker compose up -d
docker compose exec yocto-lecture bash
```

### Docker ì»¨í…Œì´ë„ˆ ê¶Œí•œ ë¬¸ì œ í•´ê²°

!!! danger "Permission Denied ì—ëŸ¬"
    **ì¦ìƒ**: `/workspace/build` ë””ë ‰í† ë¦¬ ìƒì„± ì‹œ "Permission denied" ì—ëŸ¬
    
    **ì›ì¸**: Docker ì»¨í…Œì´ë„ˆì˜ `/workspace` ë””ë ‰í† ë¦¬ê°€ root ì†Œìœ ë¡œ ì„¤ì •ë¨
    
    **í•´ê²°ì±…**:
    ```bash
    # ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì‹¤í–‰
    docker compose exec yocto-lecture bash
    
    # ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê¶Œí•œ ìˆ˜ì •
    sudo chown -R yocto:yocto /workspace
    
    # ë˜ëŠ” ì»¨í…Œì´ë„ˆ ì™¸ë¶€ì—ì„œ í•œ ë²ˆì— ì‹¤í–‰
    docker compose exec yocto-lecture sudo chown -R yocto:yocto /workspace
    ```

!!! tip "ìë™í™”ëœ ê¶Œí•œ ìˆ˜ì •"
    ë§¤ë²ˆ ìˆ˜ë™ìœ¼ë¡œ ê¶Œí•œì„ ìˆ˜ì •í•˜ëŠ” ê²ƒì„ í”¼í•˜ë ¤ë©´:
    ```bash
    # ì»¨í…Œì´ë„ˆ ì‹œì‘ ì‹œ ìë™ìœ¼ë¡œ ê¶Œí•œ ìˆ˜ì •
    docker compose exec yocto-lecture bash -c "sudo chown -R yocto:yocto /workspace && bash"
    ```

---

â† [ì•„í‚¤í…ì²˜](architecture.md) | [ì²« ë¹Œë“œ](first-build.md) â†’ 



---

<div style='page-break-before: always;'></div>

# 4. ì²« ë²ˆì§¸ ë¹Œë“œ

# ì²« ë¹Œë“œ: ì½”ì–´ ì´ë¯¸ì§€ ë° ë¹Œë“œ í”„ë¡œì„¸ìŠ¤

## Yocto í™˜ê²½ ì´ˆê¸°í™”

ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ Yocto ë¹Œë“œ í™˜ê²½ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤:

!!! warning "ê¶Œí•œ í™•ì¸ í•„ìˆ˜"
    í™˜ê²½ ì´ˆê¸°í™” ì „ì— ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê¶Œí•œì„ í™•ì¸í•˜ì„¸ìš”:
    ```bash
    # ê¶Œí•œ í™•ì¸
    ls -la /workspace
    
    # ê¶Œí•œì´ rootë¡œ ë˜ì–´ìˆë‹¤ë©´ ìˆ˜ì •
    sudo chown -R yocto:yocto /workspace
    ```

```bash
# Yocto ë¹Œë“œ í™˜ê²½ ì´ˆê¸°í™”
source /opt/poky/oe-init-build-env /workspace/build

# ë˜ëŠ” í¸ì˜ í•¨ìˆ˜ ì‚¬ìš©
yocto_init
```

!!! info "í™˜ê²½ ì´ˆê¸°í™”ê°€ í•˜ëŠ” ì¼"
    - BitBake ê²½ë¡œ ì„¤ì •
    - ë¹Œë“œ ë””ë ‰í† ë¦¬ ìƒì„± (`/workspace/build`)
    - ê¸°ë³¸ ì„¤ì • íŒŒì¼ ìƒì„± (`local.conf`, `bblayers.conf`)
    - ì‰˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

## ë¹Œë“œ ì„¤ì • í™•ì¸

### local.conf ì£¼ìš” ì„¤ì •

```bash
# í˜„ì¬ ì„¤ì • í™•ì¸
cat conf/local.conf | grep -E "(MACHINE|IMAGE_INSTALL|BB_NUMBER)"

# ì£¼ìš” ì„¤ì • ì˜ˆì‹œ
MACHINE ?= "qemux86-64"
BB_NUMBER_THREADS ?= "4"
PARALLEL_MAKE ?= "-j 4"
```

!!! tip "ì¤‘ìš”í•œ ì„¤ì • ë³€ìˆ˜ë“¤"
    - **MACHINE**: íƒ€ê²Ÿ í•˜ë“œì›¨ì–´ (qemux86-64, beaglebone, raspberrypi4 ë“±)
    - **BB_NUMBER_THREADS**: BitBake ë³‘ë ¬ íƒœìŠ¤í¬ ìˆ˜
    - **PARALLEL_MAKE**: ì»´íŒŒì¼ ë³‘ë ¬ ì‘ì—… ìˆ˜
    - **DL_DIR**: ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ ë””ë ‰í† ë¦¬
    - **SSTATE_DIR**: ê³µìœ  ìƒíƒœ ìºì‹œ ë””ë ‰í† ë¦¬

### bblayers.conf í™•ì¸

```bash
# ë ˆì´ì–´ êµ¬ì„± í™•ì¸
cat conf/bblayers.conf

# ì‚¬ìš© ê°€ëŠ¥í•œ ë ˆì´ì–´ ëª©ë¡
bitbake-layers show-layers
```

## ì²« ë²ˆì§¸ ë¹Œë“œ ì‹¤í–‰

### core-image-minimal ë¹Œë“œ

```bash
# ì²« ë¹Œë“œ ì‹œì‘ (ì•½ 30ë¶„-3ì‹œê°„ ì†Œìš”)
bitbake core-image-minimal

# ë˜ëŠ” í¸ì˜ í•¨ìˆ˜ ì‚¬ìš©
yocto_quick_build
```

!!! warning "ë¹Œë“œ ì‹œê°„"
    - **ì²« ë¹Œë“œ**: 30ë¶„ì—ì„œ 3ì‹œê°„ê¹Œì§€ ì†Œìš” (ì‹œìŠ¤í…œ ì‚¬ì–‘ì— ë”°ë¼)
    - **ì´í›„ ë¹Œë“œ**: ìºì‹œ í™œìš©ìœ¼ë¡œ 5-30ë¶„ ë‚´ì™¸
    - **ì¦ë¶„ ë¹Œë“œ**: ë³€ê²½ì‚¬í•­ë§Œ ë¹Œë“œí•˜ë¯€ë¡œ ìˆ˜ë¶„ ë‚´

### ë¹Œë“œ ê³¼ì • ìƒì„¸ ë¶„ì„

```mermaid
flowchart TD
    Start([ğŸš€ bitbake core-image-minimal]) --> Parse[ğŸ“– ë ˆì‹œí”¼ íŒŒì‹±<br/>600+ íŒ¨í‚¤ì§€ ë¶„ì„]
    Parse --> Deps[ğŸ”— ì˜ì¡´ì„± í•´ê²°<br/>ë¹Œë“œ ìˆœì„œ ê²°ì •]
    Deps --> Download[â¬‡ï¸ ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ<br/>í•„ìš”í•œ ëª¨ë“  ì†ŒìŠ¤ ì½”ë“œ]
    
    Download --> Toolchain[ğŸ”§ íˆ´ì²´ì¸ ë¹Œë“œ<br/>gcc, binutils, glibc]
    Toolchain --> Kernel[ğŸ§ ì»¤ë„ ë¹Œë“œ<br/>linux-yocto]
    Kernel --> Core[ğŸ“¦ í•µì‹¬ íŒ¨í‚¤ì§€<br/>busybox, systemd ë“±]
    
    Core --> Apps[ğŸš€ ì• í”Œë¦¬ì¼€ì´ì…˜<br/>ê¸°ë³¸ ì‹œìŠ¤í…œ ë„êµ¬ë“¤]
    Apps --> Rootfs[ğŸŒ³ ë£¨íŠ¸ íŒŒì¼ì‹œìŠ¤í…œ<br/>ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±]
    Rootfs --> Image[ğŸ–¼ï¸ ì´ë¯¸ì§€ ìƒì„±<br/>.ext4, .wic íŒŒì¼]
    
    Image --> Deploy[ğŸ“¤ ë°°í¬<br/>tmp/deploy/images/]
```

### ë¹Œë“œ ê³¼ì • ëª¨ë‹ˆí„°ë§

```bash
# ë¹Œë“œ ë¡œê·¸ ì‹¤ì‹œê°„ í™•ì¸
tail -f tmp/log/cooker/console-latest.log

# í˜„ì¬ ë¹Œë“œ ì¤‘ì¸ íŒ¨í‚¤ì§€ í™•ì¸
ps aux | grep bitbake

# ì˜ì¡´ì„± ê·¸ë˜í”„ ìƒì„± (ë¶„ì„ìš©)
bitbake -g core-image-minimal
```

### ë¹Œë“œ ì§„í–‰ ìƒí™© ì´í•´

!!! example "ë¹Œë“œ ë‹¨ê³„ë³„ ì„¤ëª…"
    **1ë‹¨ê³„: íŒŒì‹± (Parsing)**
    ```
    Loading cache: 100% |#######| Time: 0:00:01
    Loaded 1234 entries from dependency cache.
    Parsing recipes: 100% |####| Time: 0:00:30
    ```
    
    **2ë‹¨ê³„: ì˜ì¡´ì„± í•´ê²°**
    ```
    Computing transaction... done
    Generating task queue... done
    ```
    
    **3ë‹¨ê³„: ì‹¤í–‰**
    ```
    Executing task 1234 of 5678 (ID: 1, /path/to/recipe.bb:do_fetch)
    ```

## ë¹Œë“œ ê²°ê³¼ í™•ì¸

### ìƒì„±ëœ íŒŒì¼ë“¤

```bash
# ì´ë¯¸ì§€ íŒŒì¼ ìœ„ì¹˜
ls -la tmp/deploy/images/qemux86-64/

# ì£¼ìš” íŒŒì¼ë“¤
# - core-image-minimal-qemux86-64.ext4 (ë£¨íŠ¸ íŒŒì¼ì‹œìŠ¤í…œ)
# - bzImage (ì»¤ë„ ì´ë¯¸ì§€)
# - modules-qemux86-64.tgz (ì»¤ë„ ëª¨ë“ˆ)
```

### ì£¼ìš” ì¶œë ¥ë¬¼ ì„¤ëª…

| íŒŒì¼ | ì„¤ëª… | ìš©ë„ |
|------|------|------|
| `*.ext4` | ë£¨íŠ¸ íŒŒì¼ì‹œìŠ¤í…œ | QEMUì—ì„œ ì§ì ‘ ë¶€íŒ… |
| `*.tar.bz2` | ì••ì¶•ëœ ë£¨íŠ¸ íŒŒì¼ì‹œìŠ¤í…œ | ë°°í¬, ë¶„ì„ìš© |
| `*.wic` | ë¶€íŒ… ê°€ëŠ¥í•œ ë””ìŠ¤í¬ ì´ë¯¸ì§€ | ì‹¤ì œ í•˜ë“œì›¨ì–´ í”Œë˜ì‹± |
| `*.manifest` | í¬í•¨ëœ íŒ¨í‚¤ì§€ ëª©ë¡ | ë¬¸ì„œí™”, ë¶„ì„ìš© |

### ë¹Œë“œ í†µê³„ í™•ì¸

```bash
# ë¹Œë“œ ì‹œê°„ í™•ì¸
bitbake -e core-image-minimal | grep "^DATETIME"

# ë¹Œë“œëœ íŒ¨í‚¤ì§€ ìˆ˜ í™•ì¸
find tmp/deploy/ipk/ -name "*.ipk" | wc -l

# ì´ë¯¸ì§€ í¬ê¸° í™•ì¸
ls -lh tmp/deploy/images/qemux86-64/*.ext4
```

## ë¹Œë“œ ìºì‹œ ì´í•´

### sstate-cache í™œìš©

!!! success "sstate-cacheì˜ ì¥ì "
    - ğŸš€ **ë¹Œë“œ ì†ë„ í–¥ìƒ**: ì´ë¯¸ ë¹Œë“œëœ ê²°ê³¼ë¥¼ ì¬ì‚¬ìš©
    - ğŸ’¾ **ì €ì¥ ê³µê°„ íš¨ìœ¨**: í•´ì‹œ ê¸°ë°˜ ì¤‘ë³µ ì œê±°
    - ğŸ”„ **ì¦ë¶„ ë¹Œë“œ**: ë³€ê²½ëœ ë¶€ë¶„ë§Œ ë‹¤ì‹œ ë¹Œë“œ

```bash
# ìºì‹œ ìƒíƒœ í™•ì¸
ls -la sstate-cache/

# ìºì‹œ í†µê³„
du -sh sstate-cache/
```

### ë¹Œë“œ ìµœì í™” íŒ

```bash
# 1. ë³‘ë ¬ ë¹Œë“œ ìµœì í™”
echo 'BB_NUMBER_THREADS = "8"' >> conf/local.conf
echo 'PARALLEL_MAKE = "-j 8"' >> conf/local.conf

# 2. ë„¤íŠ¸ì›Œí¬ ìºì‹œ í™œìš©
echo 'SSTATE_MIRRORS = "file://.* http://sstate.yoctoproject.org/PATH"' >> conf/local.conf

# 3. ë¶ˆí•„ìš”í•œ ê¸°ëŠ¥ ë¹„í™œì„±í™”
echo 'PACKAGECONFIG:remove:pn-qemu = "gtk+ sdl"' >> conf/local.conf
```

## ì¼ë°˜ì ì¸ ë¹Œë“œ ë¬¸ì œ í•´ê²°

### ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±

```bash
# ë¹Œë“œ ì„ì‹œ íŒŒì¼ ì •ë¦¬
rm -rf tmp/

# ì˜¤ë˜ëœ sstate íŒŒì¼ ì •ë¦¬
find sstate-cache/ -atime +30 -delete
```

### ê¶Œí•œ ê´€ë ¨ ë¬¸ì œ

!!! danger "mkdir: cannot create directory '/workspace/build': Permission denied"
    **í•´ê²°ì±…**:
    ```bash
    # ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ê¶Œí•œ ìˆ˜ì •
    sudo chown -R yocto:yocto /workspace
    
    # ë¹Œë“œ ë””ë ‰í† ë¦¬ ìƒì„± í›„ ì¬ì‹œë„
    mkdir -p /workspace/build
    source /opt/poky/oe-init-build-env /workspace/build
    ```

!!! warning "íŒŒì¼ ìƒì„± ê¶Œí•œ ì—ëŸ¬"
    **ì¦ìƒ**: conf íŒŒì¼ ìƒì„± ì‹œ ê¶Œí•œ ì—ëŸ¬
    
    **í•´ê²°ì±…**:
    ```bash
    # ë¹Œë“œ ë””ë ‰í† ë¦¬ ê¶Œí•œ í™•ì¸
    ls -la /workspace/build
    
    # í•„ìš”ì‹œ ê¶Œí•œ ìˆ˜ì •
    sudo chown -R yocto:yocto /workspace/build
    ```

### User Namespace ë¬¸ì œ (Ubuntu 24.04)

!!! danger "User namespaces are not usable by BitBake"
    **ì¦ìƒ**: Ubuntu 24.04ì—ì„œ BitBake ì‹¤í–‰ ì‹œ user namespace ì—ëŸ¬
    ```
    ERROR: User namespaces are not usable by BitBake, possibly due to AppArmor.
    ```
    
    **ì›ì¸**: Ubuntu 24.04ì˜ ë³´ì•ˆ ì •ì±…ìœ¼ë¡œ unprivileged user namespace ì œí•œ
    
    **í•´ê²°ì±…**:
    ```bash
    # í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œì—ì„œ ì‹¤í–‰ (ì»¨í…Œì´ë„ˆ ì™¸ë¶€)
    echo 'kernel.apparmor_restrict_unprivileged_userns = 0' | sudo tee -a /etc/sysctl.conf
    sudo sysctl -p
    
    # ë˜ëŠ” ì„ì‹œë¡œ í™œì„±í™”
    sudo sysctl kernel.apparmor_restrict_unprivileged_userns=0
    
    # ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
    docker compose restart yocto-lecture
    ```

!!! tip "Alternative: BB_NO_NETWORK ì„¤ì •"
    User namespaceë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë¹Œë“œí•˜ë ¤ë©´:
    ```bash
    # local.confì— ì¶”ê°€
    echo 'BB_NO_NETWORK = "1"' >> conf/local.conf
    echo 'BB_FETCH_PREMIRRORONLY = "1"' >> conf/local.conf
    ```

### ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ

```bash
# ë‹¤ìš´ë¡œë“œ ì¬ì‹œë„
bitbake -c cleanall core-image-minimal
bitbake core-image-minimal
```

### íŒ¨í‚¤ì§€ ë¹Œë“œ ì‹¤íŒ¨

```bash
# íŠ¹ì • íŒ¨í‚¤ì§€ ì¬ë¹Œë“œ
bitbake -c clean <package-name>
bitbake <package-name>

# ë¡œê·¸ í™•ì¸
less tmp/work/*/*/<package-name>*/temp/log.do_compile
```

---

â† [í™˜ê²½ ì„¤ì •](setup.md) | [ì´ë¯¸ì§€ ì‹¤í–‰](run-image.md) â†’ 



---

<div style='page-break-before: always;'></div>

# 5. ì´ë¯¸ì§€ ì‹¤í–‰

# ë¹Œë“œëœ ì´ë¯¸ì§€ ì‹¤í–‰í•˜ê¸°

## QEMUë¥¼ ì‚¬ìš©í•œ ì´ë¯¸ì§€ ì‹¤í–‰

### ê¸°ë³¸ ì‹¤í–‰

```bash
# QEMUì—ì„œ ì´ë¯¸ì§€ ì‹¤í–‰
runqemu qemux86-64 core-image-minimal

# ë„¤íŠ¸ì›Œí¬ í¬í•¨ ì‹¤í–‰ (ì¸í„°ë„· ì—°ê²°)
runqemu qemux86-64 core-image-minimal slirp

# ê·¸ë˜í”½ ì—†ì´ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰
runqemu qemux86-64 core-image-minimal nographic
```

!!! tip "runqemu ì˜µì…˜ë“¤"
    - **slirp**: í˜¸ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•œ ì¸í„°ë„· ì—°ê²°
    - **nographic**: VNC ëŒ€ì‹  í„°ë¯¸ë„ì—ì„œ ì§ì ‘ ì‹¤í–‰
    - **kvm**: í•˜ë“œì›¨ì–´ ê°€ìƒí™” í™œìš© (Linux í˜¸ìŠ¤íŠ¸ì—ì„œ)
    - **serial**: ì‹œë¦¬ì–¼ ì½˜ì†” í™œì„±í™”

### ë‹¤ì–‘í•œ ì‹¤í–‰ ë°©ë²•

```bash
# 1. VNCë¡œ ê·¸ë˜í”½ ì¸í„°í˜ì´ìŠ¤ ì‹¤í–‰
runqemu qemux86-64 core-image-minimal

# 2. í„°ë¯¸ë„ì—ì„œ ì§ì ‘ ì‹¤í–‰ (ì¶”ì²œ)
runqemu qemux86-64 core-image-minimal nographic

# 3. ë„¤íŠ¸ì›Œí¬ì™€ KVM ê°€ì† í™œìš©
runqemu qemux86-64 core-image-minimal slirp kvm

# 4. ë©”ëª¨ë¦¬ í¬ê¸° ì§€ì •
runqemu qemux86-64 core-image-minimal qemuparams="-m 1024"
```

## ê°€ìƒ ë¨¸ì‹  ë‚´ë¶€ íƒìƒ‰

### ì‹œìŠ¤í…œ ì •ë³´ í™•ì¸

QEMUê°€ ì‹¤í–‰ë˜ë©´ ë‹¤ìŒì„ í™•ì¸í•´ë³´ì„¸ìš”:

```bash
# ì‹œìŠ¤í…œ ì •ë³´ í™•ì¸
uname -a
cat /etc/os-release

# ì»¤ë„ ì •ë³´
cat /proc/version

# CPU ì •ë³´  
cat /proc/cpuinfo

# ë©”ëª¨ë¦¬ ì •ë³´
cat /proc/meminfo
free -h
```

### ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ í™•ì¸

```bash
# ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ ëª©ë¡
opkg list-installed

# íŠ¹ì • íŒ¨í‚¤ì§€ ê²€ìƒ‰
opkg list-installed | grep busybox

# ì‚¬ìš© ê°€ëŠ¥í•œ íŒ¨í‚¤ì§€ (ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì‹œ)
opkg update
opkg list
```

### íŒŒì¼ì‹œìŠ¤í…œ êµ¬ì¡° íƒìƒ‰

```bash
# ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸
df -h

# ë””ë ‰í† ë¦¬ êµ¬ì¡° í™•ì¸
ls -la /
tree / | head -30

# ì‹œìŠ¤í…œ ë””ë ‰í† ë¦¬ë“¤
ls -la /bin /sbin /usr/bin /usr/sbin

# ì„¤ì • íŒŒì¼ë“¤
ls -la /etc/
```

### í”„ë¡œì„¸ìŠ¤ ë° ì„œë¹„ìŠ¤ í™•ì¸

```bash
# ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤
ps aux

# ì‹œìŠ¤í…œ ì„œë¹„ìŠ¤ (systemd ê¸°ë°˜)
systemctl status

# í™œì„±í™”ëœ ì„œë¹„ìŠ¤ë§Œ í™•ì¸
systemctl list-units --type=service --state=active

# ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤
systemctl status networking
```

## ë„¤íŠ¸ì›Œí¬ ë° ì—°ê²° í…ŒìŠ¤íŠ¸

### ë„¤íŠ¸ì›Œí¬ ì„¤ì • í™•ì¸

```bash
# ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ í™•ì¸
ip addr show
ifconfig

# ë¼ìš°íŒ… í…Œì´ë¸”
ip route show
route -n

# DNS ì„¤ì •
cat /etc/resolv.conf
```

### ì¸í„°ë„· ì—°ê²° í…ŒìŠ¤íŠ¸ (slirp ëª¨ë“œì—ì„œ)

```bash
# ê¸°ë³¸ ì—°ê²° í…ŒìŠ¤íŠ¸
ping -c 3 8.8.8.8

# DNS í•´ê²° í…ŒìŠ¤íŠ¸
ping -c 3 google.com

# HTTP í…ŒìŠ¤íŠ¸ (wgetì´ ìˆëŠ” ê²½ìš°)
wget -O - http://httpbin.org/ip 2>/dev/null
```

### SSH ì ‘ì† ì„¤ì •

```bash
# SSH ë°ëª¬ ì‹œì‘ (ì´ë¯¸ì§€ì— í¬í•¨ëœ ê²½ìš°)
systemctl start ssh
systemctl enable ssh

# SSH í¬íŠ¸ í™•ì¸
netstat -tlnp | grep :22
```

**í˜¸ìŠ¤íŠ¸ì—ì„œ SSH ì ‘ì†:**
```bash
# QEMUì˜ SSH í¬íŠ¸ë¡œ ì—°ê²° (ë³´í†µ 2222)
ssh -p 2222 root@localhost

# ë˜ëŠ” íŠ¹ì • IPë¡œ ì—°ê²°
ssh root@192.168.7.2
```

## ì‹œìŠ¤í…œ ë¡œê·¸ ë° ë””ë²„ê¹…

### ì‹œìŠ¤í…œ ë¡œê·¸ í™•ì¸

```bash
# ì‹œìŠ¤í…œ ë¶€íŒ… ë¡œê·¸
dmesg | head -50
dmesg | tail -20

# systemd ì €ë„ (ì§€ì›í•˜ëŠ” ê²½ìš°)
journalctl -n 50

# ì‹œìŠ¤í…œ ë¡œê·¸ íŒŒì¼ë“¤
ls -la /var/log/
tail /var/log/messages
```

### ì„±ëŠ¥ ë° ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§

```bash
# CPU ë° ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ (htopì´ ìˆëŠ” ê²½ìš°)
htop

# ë˜ëŠ” ê¸°ë³¸ top
top

# ë””ìŠ¤í¬ I/O
iostat 1 5

# ì‹œìŠ¤í…œ ì—…íƒ€ì„
uptime
```

## ì• í”Œë¦¬ì¼€ì´ì…˜ í…ŒìŠ¤íŠ¸

### ê¸°ë³¸ ë„êµ¬ë“¤ í…ŒìŠ¤íŠ¸

```bash
# íŒŒì¼ í¸ì§‘ (viëŠ” ê±°ì˜ í•­ìƒ ìˆìŒ)
vi /tmp/test.txt

# ë„¤íŠ¸ì›Œí¬ ë„êµ¬ (busybox ê¸°ë°˜)
wget --help
nc --help

# ì‹œìŠ¤í…œ ìœ í‹¸ë¦¬í‹°
which busybox
busybox --help
```

### ê°œë°œ ë„êµ¬ í…ŒìŠ¤íŠ¸ (í¬í•¨ëœ ê²½ìš°)

```bash
# ì»´íŒŒì¼ëŸ¬ í™•ì¸
gcc --version
g++ --version

# Python í™•ì¸
python3 --version
python3 -c "print('Hello from Yocto!')"

# íŒ¨í‚¤ì§€ ê´€ë¦¬
pip3 --version
```

## QEMU ì¢…ë£Œ ë° ê´€ë¦¬

### ì •ìƒ ì¢…ë£Œ

```bash
# QEMU ë‚´ë¶€ì—ì„œ ì‹œìŠ¤í…œ ì¢…ë£Œ
poweroff
shutdown -h now

# ë˜ëŠ” rebootìœ¼ë¡œ ì¬ì‹œì‘
reboot
```

### ê°•ì œ ì¢…ë£Œ

```bash
# QEMU ëª¨ë‹ˆí„° ì½˜ì†”ì—ì„œ (Ctrl+Alt+2)
(qemu) quit

# ë˜ëŠ” í„°ë¯¸ë„ì—ì„œ ê°•ì œ ì¢…ë£Œ
Ctrl+A, X  # nographic ëª¨ë“œì—ì„œ

# í˜¸ìŠ¤íŠ¸ì—ì„œ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
pkill qemu
```

### QEMU ë””ë²„ê¹… ëª¨ë“œ

```bash
# ë””ë²„ê·¸ ì •ë³´ì™€ í•¨ê»˜ ì‹¤í–‰
runqemu qemux86-64 core-image-minimal nographic qemuparams="-d int,pcall"

# ì‹œë¦¬ì–¼ ì½˜ì†” ë¡œê·¸ ì €ì¥
runqemu qemux86-64 core-image-minimal nographic qemuparams="-serial file:qemu-console.log"
```

## ê³ ê¸‰ QEMU ì‚¬ìš©ë²•

### ìŠ¤ëƒ…ìƒ· ë° ë°±ì—…

```bash
# QEMU ëª¨ë‹ˆí„°ì—ì„œ ìŠ¤ëƒ…ìƒ· ìƒì„±
(qemu) savevm snapshot1

# ìŠ¤ëƒ…ìƒ· ë³µì›
(qemu) loadvm snapshot1

# ìŠ¤ëƒ…ìƒ· ëª©ë¡ í™•ì¸
(qemu) info snapshots
```

### íŒŒì¼ ê³µìœ 

```bash
# í˜¸ìŠ¤íŠ¸ ë””ë ‰í† ë¦¬ë¥¼ ê²ŒìŠ¤íŠ¸ì™€ ê³µìœ 
runqemu qemux86-64 core-image-minimal qemuparams="-virtfs local,path=/host/share,mount_tag=host0,security_model=passthrough"

# ê²ŒìŠ¤íŠ¸ì—ì„œ ë§ˆìš´íŠ¸
mkdir /mnt/host
mount -t 9p -o trans=virtio,version=9p2000.L host0 /mnt/host
```

## ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

!!! warning "QEMUê°€ ì‹œì‘ë˜ì§€ ì•ŠëŠ” ê²½ìš°"
    ```bash
    # ì´ë¯¸ì§€ íŒŒì¼ í™•ì¸
    ls -la tmp/deploy/images/qemux86-64/
    
    # runqemu ê²½ë¡œ í™•ì¸
    which runqemu
    
    # ìƒì„¸ ë¡œê·¸ë¡œ ì‹¤í–‰
    runqemu qemux86-64 core-image-minimal nographic debug
    ```

!!! danger "ë¶€íŒ…ì´ ë©ˆì¶”ëŠ” ê²½ìš°"
    ```bash
    # ì»¤ë„ íŒŒë¼ë¯¸í„° ì¶”ê°€
    runqemu qemux86-64 core-image-minimal nographic bootparams="debug"
    
    # ì‹œë¦¬ì–¼ ì½˜ì†” ê°•ì œ í™œì„±í™”
    runqemu qemux86-64 core-image-minimal nographic bootparams="console=ttyS0"
    ```

!!! info "ë„¤íŠ¸ì›Œí¬ê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²½ìš°"
    ```bash
    # slirp ëª¨ë“œë¡œ ë‹¤ì‹œ ì‹¤í–‰
    runqemu qemux86-64 core-image-minimal slirp
    
    # ë„¤íŠ¸ì›Œí¬ ì„¤ì • í™•ì¸
    ip link show
    dhclient eth0
    ```

---

â† [ì²« ë¹Œë“œ](first-build.md) | [ì´ë¯¸ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•](customize.md) â†’ 



---

<div style='page-break-before: always;'></div>

# 6. ì´ë¯¸ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•

# ì´ë¯¸ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•: íŒ¨í‚¤ì§€ ì¶”ê°€

## local.confë¥¼ í†µí•œ íŒ¨í‚¤ì§€ ì¶”ê°€

ê¸°ë³¸ ì´ë¯¸ì§€ì— ì¶”ê°€ íŒ¨í‚¤ì§€ë¥¼ í¬í•¨ì‹œì¼œë³´ê² ìŠµë‹ˆë‹¤:

### ê¸°ë³¸ íŒ¨í‚¤ì§€ ì¶”ê°€

```bash
# local.conf íŒŒì¼ í¸ì§‘
vi conf/local.conf

# ë‹¤ìŒ ë¼ì¸ë“¤ì„ ì¶”ê°€
IMAGE_INSTALL:append = " nano vim htop git"
IMAGE_INSTALL:append = " python3 python3-pip"
IMAGE_INSTALL:append = " openssh-server dropbear"
```

!!! tip "íŒ¨í‚¤ì§€ ì¶”ê°€ ë°©ë²•ë“¤"
    - **IMAGE_INSTALL:append**: ê¸°ì¡´ ì„¤ì •ì— íŒ¨í‚¤ì§€ ì¶”ê°€
    - **IMAGE_INSTALL:prepend**: ê¸°ì¡´ ì„¤ì • ì•ì— íŒ¨í‚¤ì§€ ì¶”ê°€  
    - **IMAGE_INSTALL:remove**: íŠ¹ì • íŒ¨í‚¤ì§€ ì œê±°

### ê°œë°œ ë„êµ¬ ì¶”ê°€

```bash
# ê°œë°œ í™˜ê²½ êµ¬ì„±
IMAGE_INSTALL:append = " packagegroup-core-buildessential"
IMAGE_INSTALL:append = " cmake make autoconf automake"
IMAGE_INSTALL:append = " gdb strace ltrace"

# ë„¤íŠ¸ì›Œí‚¹ ë„êµ¬
IMAGE_INSTALL:append = " curl wget netcat iperf3"
IMAGE_INSTALL:append = " tcpdump wireshark-cli"
```

### ì‹œìŠ¤í…œ ë„êµ¬ ì¶”ê°€

```bash
# ì‹œìŠ¤í…œ ê´€ë¦¬ ë„êµ¬
IMAGE_INSTALL:append = " systemd-analyze"
IMAGE_INSTALL:append = " procps util-linux coreutils"
IMAGE_INSTALL:append = " findutils grep sed awk"

# íŒŒì¼ì‹œìŠ¤í…œ ë„êµ¬
IMAGE_INSTALL:append = " e2fsprogs dosfstools"
IMAGE_INSTALL:append = " tree file which"
```

## ê³ ê¸‰ ì´ë¯¸ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### IMAGE_FEATURES í™œìš©

```bash
# local.confì— ì¶”ê°€í•  ì´ë¯¸ì§€ ê¸°ëŠ¥ë“¤

# ê°œë°œ ê´€ë ¨ ê¸°ëŠ¥
IMAGE_FEATURES += "debug-tweaks"           # ê°œë°œ í¸ì˜ ê¸°ëŠ¥
IMAGE_FEATURES += "tools-debug"            # ë””ë²„ê¹… ë„êµ¬
IMAGE_FEATURES += "tools-profile"          # í”„ë¡œíŒŒì¼ë§ ë„êµ¬

# íŒ¨í‚¤ì§€ ê´€ë¦¬
IMAGE_FEATURES += "package-management"     # opkg íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €

# SSH ì ‘ì†
IMAGE_FEATURES += "ssh-server-openssh"     # OpenSSH ì„œë²„
IMAGE_FEATURES += "ssh-server-dropbear"    # ê²½ëŸ‰ SSH ì„œë²„

# ê°œë°œ ë„êµ¬
IMAGE_FEATURES += "tools-sdk"              # SDK ë„êµ¬ë“¤
IMAGE_FEATURES += "dev-pkgs"               # ê°œë°œ í—¤ë” íŒŒì¼ë“¤
```

### ì´ë¯¸ì§€ í¬ê¸° ìµœì í™”

```bash
# í¬ê¸° ìµœì í™” ì„¤ì •
IMAGE_FEATURES += "read-only-rootfs"       # ì½ê¸° ì „ìš© ë£¨íŠ¸ íŒŒì¼ì‹œìŠ¤í…œ
EXTRA_IMAGE_FEATURES = "empty-root-password" # ë£¨íŠ¸ íŒ¨ìŠ¤ì›Œë“œ ì—†ìŒ

# ë¶ˆí•„ìš”í•œ ê¸°ëŠ¥ ì œê±°
IMAGE_FEATURES:remove = "x11-base"         # X11 ì œê±°
DISTRO_FEATURES:remove = "wayland x11"     # ê·¸ë˜í”½ ìŠ¤íƒ ì œê±°
```

### ì»¤ë„ ëª¨ë“ˆ ì¶”ê°€

```bash
# íŠ¹ì • ì»¤ë„ ëª¨ë“ˆ í¬í•¨
IMAGE_INSTALL:append = " kernel-modules"
IMAGE_INSTALL:append = " kernel-module-usbnet"
IMAGE_INSTALL:append = " kernel-module-cdc-acm"

# ì „ì²´ ì»¤ë„ ëª¨ë“ˆ (í¬ê¸° ì£¼ì˜)
IMAGE_INSTALL:append = " kernel-modules"
```

## ì¬ë¹Œë“œ ë° í™•ì¸

### ìˆ˜ì •ëœ ì„¤ì •ìœ¼ë¡œ ì¬ë¹Œë“œ

```bash
# ë³€ê²½ì‚¬í•­ ì ìš©ì„ ìœ„í•œ ì¬ë¹Œë“œ
bitbake core-image-minimal

# ë˜ëŠ” ê°•ì œ ì¬ë¹Œë“œ
bitbake -c clean core-image-minimal
bitbake core-image-minimal
```

!!! warning "ë¹Œë“œ ì‹œê°„"
    ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ ì¶”ê°€ ì‹œ ì¶”ê°€ ë‹¤ìš´ë¡œë“œ ë° ì»´íŒŒì¼ ì‹œê°„ì´ ì†Œìš”ë©ë‹ˆë‹¤.

### ìƒˆ ì´ë¯¸ì§€ë¡œ ì‹¤í–‰ ë° í™•ì¸

```bash
# ìƒˆ ì´ë¯¸ì§€ë¡œ QEMU ì‹¤í–‰
runqemu qemux86-64 core-image-minimal

# ì¶”ê°€ëœ íŒ¨í‚¤ì§€ë“¤ í™•ì¸
which nano vim htop git python3
python3 --version
git --version

# ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ ëª©ë¡
opkg list-installed | grep -E "(nano|vim|git|python)"
```

## íŒ¨í‚¤ì§€ ê²€ìƒ‰ ë° ì •ë³´ í™•ì¸

### ì‚¬ìš© ê°€ëŠ¥í•œ íŒ¨í‚¤ì§€ ê²€ìƒ‰

```bash
# íŒ¨í‚¤ì§€ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰
bitbake -s | grep python

# íŠ¹ì • íŒ¨í„´ìœ¼ë¡œ ê²€ìƒ‰
bitbake -s | grep -i network

# íŒ¨í‚¤ì§€ ìƒì„¸ ì •ë³´ í™•ì¸
bitbake -e python3 | grep ^DESCRIPTION
bitbake -e python3 | grep ^LICENSE
```

### íŒ¨í‚¤ì§€ ì˜ì¡´ì„± í™•ì¸

```bash
# íŒ¨í‚¤ì§€ ì˜ì¡´ì„± ê·¸ë˜í”„ ìƒì„±
bitbake -g python3

# ìƒì„±ëœ íŒŒì¼ë“¤ í™•ì¸
ls pn-buildlist pn-depends.dot task-depends.dot

# ì˜ì¡´ì„± ì‹œê°í™” (ê·¸ë˜í”„ ë„êµ¬ í•„ìš”)
dot -Tpng pn-depends.dot -o python3-depends.png
```

### íŒ¨í‚¤ì§€ ë‚´ìš© í™•ì¸

```bash
# íŒ¨í‚¤ì§€ì— í¬í•¨ëœ íŒŒì¼ë“¤ í™•ì¸
oe-pkgdata-util list-pkg-files python3

# íŒ¨í‚¤ì§€ ì •ë³´ ì¡°íšŒ
oe-pkgdata-util lookup-recipe python3

# íŒ¨í‚¤ì§€ê°€ ì œê³µí•˜ëŠ” íŒŒì¼ë“¤
oe-pkgdata-util find-path /usr/bin/python3
```

## ì‚¬ìš©ì ì •ì˜ íŒ¨í‚¤ì§€ ê·¸ë£¹

### íŒ¨í‚¤ì§€ ê·¸ë£¹ ìƒì„±

```bash
# meta-mylayer/recipes-core/packagegroups/packagegroup-mytools.bb
SUMMARY = "My custom tools package group"
LICENSE = "MIT"

inherit packagegroup

PACKAGES = "\
    packagegroup-mytools \
    packagegroup-mytools-debug \
    packagegroup-mytools-network \
"

RDEPENDS:packagegroup-mytools = "\
    nano \
    vim \
    htop \
    git \
    python3 \
"

RDEPENDS:packagegroup-mytools-debug = "\
    gdb \
    strace \
    ltrace \
    valgrind \
"

RDEPENDS:packagegroup-mytools-network = "\
    curl \
    wget \
    netcat \
    iperf3 \
    tcpdump \
"
```

### íŒ¨í‚¤ì§€ ê·¸ë£¹ ì‚¬ìš©

```bash
# local.confì—ì„œ íŒ¨í‚¤ì§€ ê·¸ë£¹ ì‚¬ìš©
IMAGE_INSTALL:append = " packagegroup-mytools"
IMAGE_INSTALL:append = " packagegroup-mytools-debug"
```

## ëŸ°íƒ€ì„ íŒ¨í‚¤ì§€ ê´€ë¦¬

### ì´ë¯¸ì§€ì—ì„œ íŒ¨í‚¤ì§€ ì¶”ê°€/ì œê±°

```bash
# QEMU ì‹¤í–‰ í›„ (ë„¤íŠ¸ì›Œí¬ ì—°ê²° í•„ìš”)
opkg update

# ìƒˆ íŒ¨í‚¤ì§€ ì„¤ì¹˜
opkg install htop

# íŒ¨í‚¤ì§€ ì œê±°
opkg remove htop

# ì„¤ì¹˜ ê°€ëŠ¥í•œ íŒ¨í‚¤ì§€ ê²€ìƒ‰
opkg list | grep python
```

### ì™¸ë¶€ ì €ì¥ì†Œ ì¶”ê°€

```bash
# /etc/opkg/ ì„¤ì • íŒŒì¼ í¸ì§‘
echo "src/gz myrepo http://myserver.com/packages" >> /etc/opkg/base-feeds.conf

# ì €ì¥ì†Œ ì—…ë°ì´íŠ¸
opkg update
```

## ì´ë¯¸ì§€ í¬ê¸° ë¶„ì„

### ì´ë¯¸ì§€ í¬ê¸° ìµœì í™”

```bash
# ë¹Œë“œ í†µê³„ í™•ì¸
bitbake -e core-image-minimal | grep IMAGE_ROOTFS_SIZE

# íŒ¨í‚¤ì§€ë³„ í¬ê¸° ë¶„ì„
oe-pkgdata-util list-pkg-files -r /workspace/build core-image-minimal

# ë¶ˆí•„ìš”í•œ íŒŒì¼ ì œê±°
IMAGE_INSTALL:remove = " man-pages"
IMAGE_INSTALL:remove = " doc-pkgs"
```

### ì´ë¯¸ì§€ ë‚´ìš© ë¶„ì„

```bash
# ì´ë¯¸ì§€ì— í¬í•¨ëœ ëª¨ë“  íŒ¨í‚¤ì§€
bitbake -g core-image-minimal
cat pn-buildlist

# íŠ¹ì • íŒ¨í‚¤ì§€ê°€ í¬í•¨ëœ ì´ìœ  ì¶”ì 
bitbake -g core-image-minimal
grep "specific-package" pn-depends.dot
```

## ë¬¸ì œ í•´ê²°

### íŒ¨í‚¤ì§€ ì¶©ëŒ í•´ê²°

```bash
# ì¶©ëŒí•˜ëŠ” íŒ¨í‚¤ì§€ í™•ì¸
bitbake core-image-minimal 2>&1 | grep -i conflict

# íŠ¹ì • íŒ¨í‚¤ì§€ ë²„ì „ ê³ ì •
PREFERRED_VERSION_python3 = "3.11%"

# íŒ¨í‚¤ì§€ ì œì™¸
BAD_RECOMMENDATIONS += "package-name"
```

### ë¹Œë“œ ì˜¤ë¥˜ ë””ë²„ê¹…

```bash
# íŠ¹ì • íŒ¨í‚¤ì§€ ë¡œê·¸ í™•ì¸
bitbake -c compile python3 -v

# ì‘ì—… ë””ë ‰í† ë¦¬ í™•ì¸
bitbake -c devshell python3

# íŒ¨í‚¤ì§€ ì •ë¦¬ í›„ ì¬ë¹Œë“œ
bitbake -c cleanall python3
bitbake python3
```

---

â† [ì´ë¯¸ì§€ ì‹¤í–‰](run-image.md) | [ì»¤ìŠ¤í…€ ë ˆì´ì–´](custom-layer.md) â†’ 



---

<div style='page-break-before: always;'></div>

# 7. ì»¤ìŠ¤í…€ ë ˆì´ì–´ ìƒì„±

# ì»¤ìŠ¤í…€ ë ˆì´ì–´ ë° ë ˆì‹œí”¼ ìƒì„±

## ìƒˆ ë ˆì´ì–´ ìƒì„±

ì»¤ìŠ¤í…€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ìƒˆ ë ˆì´ì–´ë¥¼ ìƒì„±í•´ë³´ê² ìŠµë‹ˆë‹¤:

### ë ˆì´ì–´ ìƒì„± ëª…ë ¹

```bash
# ìƒˆ ë ˆì´ì–´ ìƒì„±
bitbake-layers create-layer ../meta-myapp

# ìƒì„±ëœ ë ˆì´ì–´ êµ¬ì¡° í™•ì¸
tree ../meta-myapp

# ë ˆì´ì–´ë¥¼ ë¹Œë“œì— ì¶”ê°€
bitbake-layers add-layer ../meta-myapp

# ë ˆì´ì–´ ëª©ë¡ í™•ì¸
bitbake-layers show-layers
```

### í‘œì¤€ ë ˆì´ì–´ êµ¬ì¡°

```
meta-myapp/
â”œâ”€â”€ conf/
â”‚   â””â”€â”€ layer.conf          # ë ˆì´ì–´ ê¸°ë³¸ ì„¤ì •
â”œâ”€â”€ recipes-example/        # ì˜ˆì œ ë ˆì‹œí”¼ë“¤
â”œâ”€â”€ recipes-myapp/          # ì»¤ìŠ¤í…€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆì‹œí”¼
â”‚   â””â”€â”€ hello-world/
â”‚       â”œâ”€â”€ files/          # ì†ŒìŠ¤ íŒŒì¼ë“¤
â”‚       â””â”€â”€ hello-world_1.0.bb  # ë ˆì‹œí”¼ íŒŒì¼
â”œâ”€â”€ classes/                # ê³µí†µ í´ë˜ìŠ¤ íŒŒì¼ë“¤
â”œâ”€â”€ files/                  # ê³µí†µ íŒŒì¼ë“¤
â””â”€â”€ README                  # ë ˆì´ì–´ ì„¤ëª…ì„œ
```

### layer.conf ì„¤ì •

```bash
# meta-myapp/conf/layer.conf
BBPATH .= ":${LAYERDIR}"
BBFILES += "${LAYERDIR}/recipes-*/*/*.bb ${LAYERDIR}/recipes-*/*/*.bbappend"
BBFILE_COLLECTIONS += "myapp"
BBFILE_PATTERN_myapp = "^${LAYERDIR}/"
BBFILE_PRIORITY_myapp = "6"

# ì˜ì¡´ì„± ë ˆì´ì–´ ì •ì˜
LAYERDEPENDS_myapp = "core openembedded-layer"

# Yocto ë²„ì „ í˜¸í™˜ì„±
LAYERSERIES_COMPAT_myapp = "scarthgap"
```

## Hello World ì• í”Œë¦¬ì¼€ì´ì…˜ ë§Œë“¤ê¸°

### ì†ŒìŠ¤ ì½”ë“œ ì‘ì„±

```bash
# ì†ŒìŠ¤ ì½”ë“œ ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p ../meta-myapp/recipes-myapp/hello-world/files

# C ì†ŒìŠ¤ ì½”ë“œ ì‘ì„±
cat > ../meta-myapp/recipes-myapp/hello-world/files/hello.c << 'EOF'
#include <stdio.h>
#include <time.h>

int main() {
    time_t rawtime;
    struct tm * timeinfo;
    
    time(&rawtime);
    timeinfo = localtime(&rawtime);
    
    printf("Hello from Yocto Custom Layer!\n");
    printf("This is my first custom application.\n");
    printf("Built at: %s", __DATE__ " " __TIME__ "\n");
    printf("Current time: %s", asctime(timeinfo));
    
    return 0;
}
EOF
```

### Makefile ì‘ì„±

```bash
# Makefile ìƒì„±
cat > ../meta-myapp/recipes-myapp/hello-world/files/Makefile << 'EOF'
CC ?= gcc
CFLAGS ?= -Wall -O2
TARGET = hello
SOURCE = hello.c

$(TARGET): $(SOURCE)
	$(CC) $(CFLAGS) -o $(TARGET) $(SOURCE)

install:
	install -d $(DESTDIR)/usr/bin
	install -m 755 $(TARGET) $(DESTDIR)/usr/bin/

clean:
	rm -f $(TARGET)

.PHONY: install clean
EOF
```

### ë ˆì‹œí”¼ íŒŒì¼ ì‘ì„±

```bash
# ë ˆì‹œí”¼ íŒŒì¼ ìƒì„±
cat > ../meta-myapp/recipes-myapp/hello-world/hello-world_1.0.bb << 'EOF'
SUMMARY = "Hello World application for Yocto"
DESCRIPTION = "A simple Hello World C application demonstrating custom layer creation"
LICENSE = "MIT"
LIC_FILES_CHKSUM = "file://${COMMON_LICENSE_DIR}/MIT;md5=0835ade698e0bcf8506ecda2f7b4f302"

# ì†ŒìŠ¤ íŒŒì¼ë“¤ ì •ì˜
SRC_URI = "file://hello.c \
           file://Makefile"

# ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì •
S = "${WORKDIR}"

# ì»´íŒŒì¼ íƒœìŠ¤í¬
do_compile() {
    oe_runmake
}

# ì„¤ì¹˜ íƒœìŠ¤í¬
do_install() {
    oe_runmake install DESTDIR=${D}
}

# íŒ¨í‚¤ì§€ ì •ë³´
FILES:${PN} = "/usr/bin/hello"
EOF
```

## ë ˆì‹œí”¼ ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸

### ê°œë³„ ë ˆì‹œí”¼ ë¹Œë“œ

```bash
# ë ˆì‹œí”¼ë§Œ ë¹Œë“œ
bitbake hello-world

# ë¹Œë“œ ê³¼ì • ìƒì„¸ í™•ì¸
bitbake hello-world -v

# ìƒì„±ëœ íŒ¨í‚¤ì§€ í™•ì¸
find tmp/deploy -name "*hello-world*"
```

### ì´ë¯¸ì§€ì— í¬í•¨ì‹œí‚¤ê¸°

```bash
# local.confì— ì¶”ê°€
echo 'IMAGE_INSTALL:append = " hello-world"' >> conf/local.conf

# ì „ì²´ ì´ë¯¸ì§€ ì¬ë¹Œë“œ
bitbake core-image-minimal

# QEMUì—ì„œ í…ŒìŠ¤íŠ¸
runqemu qemux86-64 core-image-minimal nographic

# ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ (QEMU ë‚´ë¶€ì—ì„œ)
hello
```

## ê³ ê¸‰ ë ˆì‹œí”¼ ê¸°ëŠ¥

### íŒ¨ì¹˜ ì ìš©

```bash
# íŒ¨ì¹˜ íŒŒì¼ ì¶”ê°€
mkdir -p ../meta-myapp/recipes-myapp/hello-world/files
cat > ../meta-myapp/recipes-myapp/hello-world/files/add-version.patch << 'EOF'
--- a/hello.c
+++ b/hello.c
@@ -1,4 +1,6 @@
 #include <stdio.h>
+#include <time.h>
+
+#define VERSION "1.0"
 
 int main() {
     time_t rawtime;
@@ -8,6 +10,7 @@
     timeinfo = localtime(&rawtime);
     
     printf("Hello from Yocto Custom Layer!\n");
+    printf("Version: %s\n", VERSION);
     printf("This is my first custom application.\n");
     printf("Built at: %s", __DATE__ " " __TIME__ "\n");
     printf("Current time: %s", asctime(timeinfo));
EOF

# ë ˆì‹œí”¼ì— íŒ¨ì¹˜ ì¶”ê°€
echo 'SRC_URI += "file://add-version.patch"' >> ../meta-myapp/recipes-myapp/hello-world/hello-world_1.0.bb
```

### ì„¤ì • íŒŒì¼ í¬í•¨

```bash
# ì„¤ì • íŒŒì¼ ìƒì„±
cat > ../meta-myapp/recipes-myapp/hello-world/files/hello.conf << 'EOF'
# Hello World Application Configuration
greeting=Hello from Yocto
show_time=true
debug_mode=false
EOF

# ë ˆì‹œí”¼ì— ì„¤ì • íŒŒì¼ ì¶”ê°€
cat >> ../meta-myapp/recipes-myapp/hello-world/hello-world_1.0.bb << 'EOF'

SRC_URI += "file://hello.conf"

do_install:append() {
    install -d ${D}${sysconfdir}
    install -m 644 ${WORKDIR}/hello.conf ${D}${sysconfdir}/
}

FILES:${PN} += "${sysconfdir}/hello.conf"
EOF
```

### ì˜ì¡´ì„± ì¶”ê°€

```bash
# ëŸ°íƒ€ì„ ì˜ì¡´ì„± ì¶”ê°€
cat >> ../meta-myapp/recipes-myapp/hello-world/hello-world_1.0.bb << 'EOF'

# ë¹Œë“œ ì‹œê°„ ì˜ì¡´ì„±
DEPENDS = "zlib openssl"

# ëŸ°íƒ€ì„ ì˜ì¡´ì„±  
RDEPENDS:${PN} = "bash python3"

# ê¶Œì¥ íŒ¨í‚¤ì§€
RRECOMMENDS:${PN} = "nano vim"
EOF
```

## ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ë ˆì‹œí”¼ ìƒì„±

### ì „ìš© ì´ë¯¸ì§€ ë ˆì‹œí”¼

```bash
# ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ë ˆì‹œí”¼ ìƒì„±
mkdir -p ../meta-myapp/recipes-core/images

cat > ../meta-myapp/recipes-core/images/my-custom-image.bb << 'EOF'
SUMMARY = "My custom image with additional tools"
DESCRIPTION = "Custom image including hello-world app and development tools"
LICENSE = "MIT"

# core-image í´ë˜ìŠ¤ ìƒì†
inherit core-image

# ì´ë¯¸ì§€ ê¸°ëŠ¥ ì„¤ì •
IMAGE_FEATURES += "ssh-server-openssh package-management"
IMAGE_FEATURES += "debug-tweaks tools-debug"

# í¬í•¨í•  íŒ¨í‚¤ì§€ë“¤
IMAGE_INSTALL = "packagegroup-core-boot \
                 packagegroup-base-extended \
                 hello-world \
                 nano \
                 vim \
                 htop \
                 git \
                 python3 \
                 python3-pip \
                 curl \
                 wget \
                 ${CORE_IMAGE_EXTRA_INSTALL}"

# ì´ë¯¸ì§€ ì´ë¦„ ì„¤ì •
export IMAGE_BASENAME = "my-custom-image"

# ì¶”ê°€ ì„¤ì •
IMAGE_ROOTFS_EXTRA_SPACE = "1024"
IMAGE_OVERHEAD_FACTOR = "1.3"
EOF
```

### ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ë¹Œë“œ

```bash
# ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ë¹Œë“œ
bitbake my-custom-image

# QEMUì—ì„œ í…ŒìŠ¤íŠ¸
runqemu qemux86-64 my-custom-image
```

## Python ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆì‹œí”¼

### Python ìŠ¤í¬ë¦½íŠ¸ ìƒì„±

```bash
# Python ì• í”Œë¦¬ì¼€ì´ì…˜ ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p ../meta-myapp/recipes-myapp/python-hello/files

# Python ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
cat > ../meta-myapp/recipes-myapp/python-hello/files/hello.py << 'EOF'
#!/usr/bin/env python3
"""
Simple Hello World Python application for Yocto
"""

import sys
import datetime
import platform

def main():
    print("="*50)
    print("Hello from Python on Yocto!")
    print("="*50)
    print(f"Python version: {sys.version}")
    print(f"Platform: {platform.platform()}")
    print(f"Current time: {datetime.datetime.now()}")
    print(f"Arguments: {sys.argv[1:] if len(sys.argv) > 1 else 'None'}")
    print("="*50)

if __name__ == "__main__":
    main()
EOF

# ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x ../meta-myapp/recipes-myapp/python-hello/files/hello.py
```

### Python ë ˆì‹œí”¼ ì‘ì„±

```bash
cat > ../meta-myapp/recipes-myapp/python-hello/python-hello_1.0.bb << 'EOF'
SUMMARY = "Python Hello World application"
DESCRIPTION = "A simple Python application for Yocto demonstration"
LICENSE = "MIT"
LIC_FILES_CHKSUM = "file://${COMMON_LICENSE_DIR}/MIT;md5=0835ade698e0bcf8506ecda2f7b4f302"

# Python ê´€ë ¨ ì„¤ì •
inherit python3native

SRC_URI = "file://hello.py"

S = "${WORKDIR}"

# Python3 ëŸ°íƒ€ì„ ì˜ì¡´ì„±
RDEPENDS:${PN} = "python3"

do_install() {
    install -d ${D}${bindir}
    install -m 755 ${WORKDIR}/hello.py ${D}${bindir}/python-hello
}

FILES:${PN} = "${bindir}/python-hello"
EOF
```

## ê³ ê¸‰ ë ˆì´ì–´ ê´€ë¦¬

### ë ˆì´ì–´ ë²„ì „ ê´€ë¦¬

```bash
# ë ˆì´ì–´ì— ë²„ì „ ì •ë³´ ì¶”ê°€
cat >> ../meta-myapp/conf/layer.conf << 'EOF'

# ë ˆì´ì–´ ë²„ì „
LAYERVERSION_myapp = "1"

# ë ˆì´ì–´ ì‹œë¦¬ì¦ˆ í˜¸í™˜ì„±
LAYERSERIES_COMPAT_myapp = "scarthgap nanbield"
EOF
```

### ë‹¤ì¤‘ ë ˆì‹œí”¼ ë²„ì „

```bash
# ë‹¤ë¥¸ ë²„ì „ì˜ ë ˆì‹œí”¼ ìƒì„±
cp ../meta-myapp/recipes-myapp/hello-world/hello-world_1.0.bb \
   ../meta-myapp/recipes-myapp/hello-world/hello-world_2.0.bb

# ë²„ì „ë³„ ê¸°ë³¸ ì„¤ì •
echo 'PREFERRED_VERSION_hello-world = "2.0"' >> conf/local.conf
```

## devtoolì„ í™œìš©í•œ ê°œë°œ

### devtool ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìƒì„±

```bash
# ê°œë°œìš© ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìƒì„±
devtool create-workspace ../workspace

# ê¸°ì¡´ ë ˆì‹œí”¼ ìˆ˜ì •
devtool modify hello-world

# ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜ í™•ì¸
echo "ì†ŒìŠ¤ ì½”ë“œê°€ ../workspace/sources/hello-world ì— ìˆìŠµë‹ˆë‹¤"

# ë³€ê²½ì‚¬í•­ ë¹Œë“œ
devtool build hello-world

# ë³€ê²½ì‚¬í•­ ì ìš©
devtool finish hello-world ../meta-myapp
```

## ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë ˆì‹œí”¼ ì˜¤ë¥˜

```bash
# ë ˆì‹œí”¼ êµ¬ë¬¸ í™•ì¸
bitbake-layers show-recipes hello-world

# ë ˆì‹œí”¼ íŒŒì‹± ì˜¤ë¥˜ í™•ì¸
bitbake -e hello-world | grep ERROR

# ì˜ì¡´ì„± ë¬¸ì œ í•´ê²°
bitbake -g hello-world
cat pn-depends.dot | grep hello-world
```

### ë¹Œë“œ ë””ë²„ê¹…

```bash
# ìƒì„¸ ë¹Œë“œ ë¡œê·¸
bitbake hello-world -v -D

# ê°œë°œ ì‰˜ ì§„ì…
bitbake -c devshell hello-world

# íŠ¹ì • íƒœìŠ¤í¬ ì¬ì‹¤í–‰
bitbake -c compile hello-world -f
```

---

â† [ì´ë¯¸ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•](customize.md) | [ê³ ê¸‰ ì£¼ì œ](advanced.md) â†’ 



---

<div style='page-break-before: always;'></div>

# 8. ê³ ê¸‰ ê¸°ëŠ¥

# Yocto ê³ ê¸‰ ì£¼ì œ ë° ì‹¤ë¬´ í™œìš©

## ê°œë°œ ì›Œí¬í”Œë¡œìš° ìµœì í™”

### devtoolì„ í™œìš©í•œ íš¨ìœ¨ì ì¸ ê°œë°œ

devtoolì€ Yoctoì—ì„œ ì œê³µí•˜ëŠ” ê°•ë ¥í•œ ê°œë°œ ë„êµ¬ì…ë‹ˆë‹¤:

```bash
# ê°œë°œìš© ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìƒì„±
devtool create-workspace ../workspace

# ê¸°ì¡´ ë ˆì‹œí”¼ ìˆ˜ì • ëª¨ë“œë¡œ ì§„ì…
devtool modify hello-world

# ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜ í™•ì¸ (Git ì €ì¥ì†Œë¡œ ê´€ë¦¬ë¨)
ls -la ../workspace/sources/hello-world/
git log --oneline -5

# ì‹¤ì‹œê°„ ê°œë°œ ë° í…ŒìŠ¤íŠ¸
cd ../workspace/sources/hello-world/
vi hello.c  # ì†ŒìŠ¤ ìˆ˜ì •
devtool build hello-world  # ë¹Œë“œ
devtool deploy-target hello-world root@192.168.7.2  # íƒ€ê²Ÿì— ì§ì ‘ ë°°í¬

# ë³€ê²½ì‚¬í•­ì„ ë ˆì‹œí”¼ì— ë°˜ì˜
devtool finish hello-world ../meta-myapp
```

### SDK (Software Development Kit) í™œìš©

```bash
# SDK ìƒì„±
bitbake core-image-minimal -c populate_sdk

# SDK ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ìœ„ì¹˜
ls tmp/deploy/sdk/

# SDK ì„¤ì¹˜ ë° ì‚¬ìš©
./tmp/deploy/sdk/poky-glibc-x86_64-core-image-minimal-cortexa15t2hf-neon-toolchain-5.0.sh

# SDK í™˜ê²½ ì„¤ì •
source /opt/poky/5.0/environment-setup-cortexa15t2hf-neon-poky-linux-gnueabi

# í¬ë¡œìŠ¤ ì»´íŒŒì¼ í™•ì¸
$CC --version
echo $CROSS_COMPILE
```

### eSDK (Extensible SDK) í™œìš©

```bash
# í™•ì¥ ê°€ëŠ¥í•œ SDK ìƒì„±
bitbake core-image-minimal -c populate_sdk_ext

# eSDKì˜ ì¥ì 
# - devtool í¬í•¨
# - ë ˆì‹œí”¼ ì¶”ê°€/ìˆ˜ì • ê°€ëŠ¥
# - ì´ë¯¸ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥

# eSDK í™˜ê²½ì—ì„œ ìƒˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¶”ê°€
devtool add myapp https://github.com/example/myapp.git
devtool build myapp
```

## ê³ ê¸‰ ë¹Œë“œ ì‹œìŠ¤í…œ í™œìš©

### ë©€í‹° ì»¨í”¼ê·¸ ë¹Œë“œ

ì„œë¡œ ë‹¤ë¥¸ ì•„í‚¤í…ì²˜ë¥¼ ë™ì‹œì— ë¹Œë“œ:

```bash
# conf/local.confì— ì¶”ê°€
BBMULTICONFIG = "arm x86"

# conf/multiconfig/arm.conf ìƒì„±
MACHINE = "beaglebone-yocto"
TMPDIR = "${TOPDIR}/tmp-arm"

# conf/multiconfig/x86.conf ìƒì„±  
MACHINE = "qemux86-64"
TMPDIR = "${TOPDIR}/tmp-x86"

# ë©€í‹° ì•„í‚¤í…ì²˜ ë¹Œë“œ
bitbake mc:arm:core-image-minimal mc:x86:core-image-minimal
```

### ê³ ê¸‰ ì´ë¯¸ì§€ íƒ€ì…

```bash
# ë‹¤ì–‘í•œ ì´ë¯¸ì§€ íƒ€ì… ìƒì„±
IMAGE_FSTYPES += "ext4 tar.bz2 wic squashfs"

# ì••ì¶•ëœ ì´ë¯¸ì§€
IMAGE_FSTYPES += "ext4.xz tar.xz"

# ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€
IMAGE_FSTYPES += "tar.gz"
INHERIT += "image-container"

# ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ê°€ëŠ¥í•œ ì´ë¯¸ì§€
INHERIT += "swupdate"
```

### ì»¤ìŠ¤í…€ ë°°í¬íŒ ìƒì„±

```bash
# meta-mydistro ë ˆì´ì–´ ìƒì„±
bitbake-layers create-layer ../meta-mydistro

# ë°°í¬íŒ ì„¤ì • íŒŒì¼ ìƒì„±
mkdir -p ../meta-mydistro/conf/distro

cat > ../meta-mydistro/conf/distro/mydistro.conf << 'EOF'
DISTRO = "mydistro"
DISTRO_NAME = "My Custom Distribution"
DISTRO_VERSION = "1.0"
DISTRO_CODENAME = "custom"

# ê¸°ë³¸ ê¸°ëŠ¥ ì„¤ì •
DISTRO_FEATURES = "systemd wifi bluetooth ipv4 ipv6 pam"
DISTRO_FEATURES:append = " opengl wayland"

# ë³´ì•ˆ ê¸°ëŠ¥
DISTRO_FEATURES:append = " seccomp"

# íŒ¨í‚¤ì§€ ê´€ë¦¬
PACKAGE_CLASSES = "package_rpm"

# ê¸°ë³¸ ë¡œê·¸ì¸
EXTRA_IMAGE_FEATURES += "debug-tweaks"

# ë¼ì´ì„ ìŠ¤ í—ˆìš©
LICENSE_FLAGS_ACCEPTED = "commercial"
EOF

# ë°°í¬íŒ ì‚¬ìš©
echo 'DISTRO = "mydistro"' >> conf/local.conf
```

## ë°°í¬ ë° ì—…ë°ì´íŠ¸ ì‹œìŠ¤í…œ

### SWUpdateë¥¼ í™œìš©í•œ ì•ˆì „í•œ ì—…ë°ì´íŠ¸

```bash
# SWUpdate ë ˆì´ì–´ ì¶”ê°€
git clone git://github.com/sbabic/meta-swupdate.git
bitbake-layers add-layer ../meta-swupdate

# ì—…ë°ì´íŠ¸ ì´ë¯¸ì§€ ìƒì„±
inherit swupdate

SWU_IMAGES = "core-image-minimal"
SWUPDATE_IMAGES = "core-image-minimal"

# ì—…ë°ì´íŠ¸ íŒ¨í‚¤ì§€ ìƒì„±
bitbake core-image-minimal-swu
```

### Menderë¥¼ í†µí•œ OTA ì—…ë°ì´íŠ¸

```bash
# Mender ë ˆì´ì–´ ì¶”ê°€
git clone -b scarthgap https://github.com/mendersoftware/meta-mender.git
bitbake-layers add-layer ../meta-mender/meta-mender-core

# Mender ì„¤ì •
INHERIT += "mender-full"
MENDER_ARTIFACT_NAME = "release-1.0"
MENDER_DEVICE_TYPE = "mydevice"

# ë“€ì–¼ íŒŒí‹°ì…˜ ì„¤ì •
MENDER_BOOT_PART_SIZE_MB = "16"
MENDER_DATA_PART_SIZE_MB = "128"
```

### OSTree ê¸°ë°˜ ì›ìì  ì—…ë°ì´íŠ¸

```bash
# OSTree ì§€ì› ë ˆì´ì–´
git clone git://git.yoctoproject.org/meta-updater
bitbake-layers add-layer ../meta-updater

# OSTree ì„¤ì •
DISTRO_FEATURES:append = " sota"
INHERIT += "sota"

# ì—…ë°ì´íŠ¸ ì„œë²„ ì„¤ì •
SOTA_SERVER = "https://my-update-server.com"
```

## ë³´ì•ˆ ê°•í™”

### ë³´ì•ˆ ê¸°ëŠ¥ í™œì„±í™”

```bash
# ì½ê¸° ì „ìš© ë£¨íŠ¸ íŒŒì¼ì‹œìŠ¤í…œ
IMAGE_FEATURES += "read-only-rootfs"

# ë³´ì•ˆ ì»´íŒŒì¼ëŸ¬ ì˜µì…˜
SECURITY_CFLAGS = "-fstack-protector-strong -Wformat -Wformat-security"
SECURITY_LDFLAGS = "-Wl,-z,relro,-z,now"

# SELinux ì§€ì›
DISTRO_FEATURES:append = " selinux"
PREFERRED_PROVIDER_virtual/refpolicy = "refpolicy-targeted"

# ì‚¬ìš©ì ê³„ì • ë³´ì•ˆ
INHERIT += "extrausers"
EXTRA_USERS_PARAMS = "useradd -p '\$1\$UgMJE2kf\$e/Uw8MueDVi0sQ/YlBTB.1' myuser;"
```

### ë¼ì´ì„ ìŠ¤ ê´€ë¦¬

```bash
# ë¼ì´ì„ ìŠ¤ ì¶”ì  í™œì„±í™”
INHERIT += "archiver"
ARCHIVER_MODE[src] = "original"
ARCHIVER_MODE[diff] = "1"
ARCHIVER_MODE[recipe] = "1"

# íŠ¹ì • ë¼ì´ì„ ìŠ¤ ì œì™¸
INCOMPATIBLE_LICENSE = "GPL-3.0 LGPL-3.0"

# ìƒìš© ë¼ì´ì„ ìŠ¤ í—ˆìš©
LICENSE_FLAGS_ACCEPTED = "commercial"

# ë¼ì´ì„ ìŠ¤ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ìƒì„±
COPY_LIC_MANIFEST = "1"
COPY_LIC_DIRS = "1"
```

## ì„±ëŠ¥ ìµœì í™”

### ì»´íŒŒì¼ ìµœì í™”

```bash
# CPU ìµœì í™”
DEFAULTTUNE = "cortexa72"
TUNE_FEATURES:append = " neon vfpv4"

# ë§í¬ íƒ€ì„ ìµœì í™” (LTO)
SELECTED_OPTIMIZATION:append = " -flto"

# ë³‘ë ¬ ë¹Œë“œ ìµœì í™”
BB_NUMBER_THREADS = "${@oe.utils.cpu_count()}"
PARALLEL_MAKE = "-j ${@oe.utils.cpu_count()}"

# ccache ì‚¬ìš©
INHERIT += "ccache"
```

### ë©”ëª¨ë¦¬ ìµœì í™”

```bash
# ë¶ˆí•„ìš”í•œ ë¡œì¼€ì¼ ì œê±°
IMAGE_LINGUAS = "en-us"

# ë¬¸ì„œ íŒŒì¼ ì œê±°
INHERIT += "rm_work"

# ê°œë°œ íŒŒì¼ ì œê±° (í”„ë¡œë•ì…˜)
IMAGE_FEATURES:remove = "dev-pkgs"
IMAGE_FEATURES:remove = "doc-pkgs"
```

## í…ŒìŠ¤íŠ¸ ë° í’ˆì§ˆ ë³´ì¦

### ìë™í™”ëœ í…ŒìŠ¤íŠ¸

```bash
# oe-selftest ì‹¤í–‰
oe-selftest --run-tests signing

# ëŸ°íƒ€ì„ í…ŒìŠ¤íŠ¸
bitbake core-image-minimal -c testimage

# ì»¤ìŠ¤í…€ í…ŒìŠ¤íŠ¸ ì¶”ê°€
inherit testimage
TEST_SUITES = "ping ssh rpm smart kernelmodule"
```

### ì´ë¯¸ì§€ ë¶„ì„

```bash
# ì´ë¯¸ì§€ í¬ê¸° ë¶„ì„
bitbake -e core-image-minimal | grep ^IMAGE_ROOTFS_SIZE
buildhistory-diff

# íŒ¨í‚¤ì§€ ì˜ì¡´ì„± ë¶„ì„
bitbake -g core-image-minimal
oe-pkgdata-util list-pkg-files -r core-image-minimal
```

### Buildhistory í™œìš©

```bash
# ë¹Œë“œ íˆìŠ¤í† ë¦¬ í™œì„±í™”
INHERIT += "buildhistory"
BUILDHISTORY_COMMIT = "1"

# íˆìŠ¤í† ë¦¬ ë¹„êµ
buildhistory-diff HEAD~1 HEAD

# íŒ¨í‚¤ì§€ í¬ê¸° ë³€í™” ì¶”ì 
buildhistory-collect-srcrevs
```

## ê³ ê¸‰ ë””ë²„ê¹…

### ì›ê²© ë””ë²„ê¹…

```bash
# GDB ì„œë²„ ì„¤ì •
IMAGE_FEATURES += "tools-debug"
IMAGE_INSTALL:append = " gdbserver"

# íƒ€ê²Ÿì—ì„œ GDB ì„œë²„ ì‹¤í–‰
gdbserver localhost:2345 ./my-application

# í˜¸ìŠ¤íŠ¸ì—ì„œ ì›ê²© ë””ë²„ê¹…
$GDB -ex "target remote 192.168.7.2:2345" my-application
```

### í”„ë¡œíŒŒì¼ë§

```bash
# í”„ë¡œíŒŒì¼ë§ ë„êµ¬ ì¶”ê°€
IMAGE_FEATURES += "tools-profile"
IMAGE_INSTALL:append = " perf valgrind oprofile"

# ì‹œìŠ¤í…œ ì½œ ì¶”ì 
strace -o trace.log my-application

# ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ê²€ì‚¬
valgrind --leak-check=full ./my-application
```

## í´ë¼ìš°ë“œ ë° ì»¨í…Œì´ë„ˆ í†µí•©

### Docker ì»¨í…Œì´ë„ˆ ë¹Œë“œ

```bash
# ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ìƒì„±
DISTRO_FEATURES:append = " virtualization"
IMAGE_FSTYPES += "container"

# Docker ì´ë¯¸ì§€ë¡œ ë³€í™˜
inherit container
CONTAINER_INSTALL:append = " packagegroup-core-boot"
```

### Kubernetes ì§€ì›

```bash
# ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì¶”ê°€
IMAGE_INSTALL:append = " containerd docker runc"
IMAGE_INSTALL:append = " kubernetes kubelet"

# ë„¤íŠ¸ì›Œí‚¹ ì§€ì›
IMAGE_INSTALL:append = " cni-plugins flannel"
```

## ì§€ì†ì  í†µí•© (CI/CD)

### Jenkins í†µí•©

```bash
#!/bin/bash
# Jenkins ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì‹œ

# í™˜ê²½ ì •ë¦¬
docker compose down
docker compose up -d

# ë¹Œë“œ ì‹¤í–‰
docker compose exec yocto-lecture bash -c "
    source /opt/poky/oe-init-build-env /workspace/build
    bitbake core-image-minimal
    bitbake core-image-minimal -c testimage
"

# ê²°ê³¼ ìˆ˜ì§‘
docker cp yocto-lecture:/workspace/build/tmp/deploy/images ./artifacts/
```

### GitHub Actions ì›Œí¬í”Œë¡œìš°

```yaml
# .github/workflows/yocto-build.yml
name: Yocto Build

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - name: Build Yocto Image
      run: |
        docker compose up -d
        docker compose exec -T yocto-lecture bash -c "
          source /opt/poky/oe-init-build-env /workspace/build
          bitbake core-image-minimal
        "
    
    - name: Archive artifacts
      uses: actions/upload-artifact@v4
      with:
        name: yocto-images
        path: tmp/deploy/images/
```

## ë¬¸ì œ í•´ê²° ê³ ê¸‰ ê¸°ë²•

### ë¹Œë“œ í™˜ê²½ ë¶„ì„

```bash
# í™˜ê²½ ë³€ìˆ˜ ë¤í”„
bitbake -e > environment.log

# ë ˆì‹œí”¼ ì˜ì¡´ì„± ìƒì„¸ ë¶„ì„
bitbake -g core-image-minimal
dot -Tpng pn-depends.dot -o depends.png

# ë¹Œë“œ í†µê³„
bitbake -s | wc -l  # ì´ íŒ¨í‚¤ì§€ ìˆ˜
du -sh sstate-cache/  # ìºì‹œ í¬ê¸°
```

### ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§

```bash
# ë¹Œë“œ ì‹œê°„ ë¶„ì„
bitbake -P core-image-minimal

# ë³‘ëª© ì§€ì  ì°¾ê¸°
buildstats-diff.py before.json after.json

# ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ëª¨ë‹ˆí„°ë§
netstat -i
iftop -i eth0
```

---

â† [ì»¤ìŠ¤í…€ ë ˆì´ì–´](custom-layer.md) | [ë§ˆë¬´ë¦¬](conclusion.md) â†’ 



---

<div style='page-break-before: always;'></div>

# 9. ë§ˆë¬´ë¦¬

# ë§ˆë¬´ë¦¬ ë° ì‹¤ë¬´ ì ìš© ê°€ì´ë“œ

## ê°•ì˜ ìš”ì•½

ì˜¤ëŠ˜ ê°•ì˜ë¥¼ í†µí•´ í•™ìŠµí•œ ë‚´ìš©ë“¤ì„ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤:

### âœ… ì™„ë£Œí•œ í•™ìŠµ ëª©í‘œ

| ì£¼ì œ | í•™ìŠµ ë‚´ìš© | ì‹¤ë¬´ ì ìš©ë„ |
|------|-----------|-------------|
| **Yocto Project ê¸°ë³¸ ê°œë…** | ì•„í‚¤í…ì²˜, ë ˆì´ì–´ ëª¨ë¸, BitBake ì´í•´ | â­â­â­â­â­ |
| **Docker ê¸°ë°˜ ê°œë°œ í™˜ê²½** | ì»¨í…Œì´ë„ˆ í™˜ê²½ êµ¬ì¶• ë° ìµœì í™” | â­â­â­â­ |
| **ì²« ë²ˆì§¸ ë¦¬ëˆ…ìŠ¤ ì´ë¯¸ì§€** | core-image-minimal ë¹Œë“œ ë° QEMU ì‹¤í–‰ | â­â­â­â­â­ |
| **íŒ¨í‚¤ì§€ ì¶”ê°€ ë° ì»¤ìŠ¤í„°ë§ˆì´ì§•** | local.conf ì„¤ì •, IMAGE_INSTALL í™œìš© | â­â­â­â­â­ |
| **ì»¤ìŠ¤í…€ ë ˆì´ì–´ ë° ë ˆì‹œí”¼** | ë ˆì´ì–´ ìƒì„±, ë ˆì‹œí”¼ ì‘ì„±, Hello World ì•± | â­â­â­â­ |
| **ê³ ê¸‰ ì£¼ì œ** | devtool, SDK, ë³´ì•ˆ, ë°°í¬ ì‹œìŠ¤í…œ ê°œìš” | â­â­â­ |

### ğŸ¯ í•µì‹¬ ì„±ê³¼

!!! success "ì‹¤ìŠµì„ í†µí•´ ë‹¬ì„±í•œ ê²ƒë“¤"
    - âœ… **ì™„ì „í•œ Linux ë°°í¬íŒ** ìƒì„± ëŠ¥ë ¥ í™•ë³´
    - âœ… **ì»¤ìŠ¤í…€ ì• í”Œë¦¬ì¼€ì´ì…˜** í†µí•© ê¸°ìˆ  ìŠµë“  
    - âœ… **ì‹¤ì œ í•˜ë“œì›¨ì–´ ëŒ€ì‘** ê¸°ë°˜ ì§€ì‹ í™•ë³´
    - âœ… **í”„ë¡œë•ì…˜ í™˜ê²½** ì ìš© ê°€ëŠ¥í•œ ê¸°ìˆ  ì´í•´

## ì‹¤ë¬´ ì ìš© ì‹œë‚˜ë¦¬ì˜¤

### 1. IoT ë””ë°”ì´ìŠ¤ ê°œë°œ

```mermaid
graph LR
    A[í•˜ë“œì›¨ì–´ ì„ ì •] --> B[BSP ë ˆì´ì–´ ì¶”ê°€]
    B --> C[ì„¼ì„œ ë“œë¼ì´ë²„ í†µí•©]
    C --> D[í†µì‹  ìŠ¤íƒ êµ¬ì„±]
    D --> E[ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ]
    E --> F[ë³´ì•ˆ ê°•í™”]
    F --> G[OTA ì—…ë°ì´íŠ¸ êµ¬ì„±]
    G --> H[í”„ë¡œë•ì…˜ ë°°í¬]
```

**ì‹¤ë¬´ ì˜ˆì‹œ: ìŠ¤ë§ˆíŠ¸ í™ˆ ê²Œì´íŠ¸ì›¨ì´**
```bash
# 1. ARM64 íƒ€ê²Ÿìœ¼ë¡œ ë³€ê²½
MACHINE = "raspberrypi4-64"

# 2. í•„ìš”í•œ ë ˆì´ì–´ ì¶”ê°€
bitbake-layers add-layer ../meta-raspberrypi
bitbake-layers add-layer ../meta-iot

# 3. IoT íŠ¹í™” íŒ¨í‚¤ì§€ ì¶”ê°€
IMAGE_INSTALL:append = " mqtt-client bluetooth-tools"
IMAGE_INSTALL:append = " python3-numpy python3-opencv"

# 4. ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ê°•í™”
IMAGE_FEATURES += "read-only-rootfs"
DISTRO_FEATURES:append = " wifi bluetooth"
```

### 2. ì‚°ì—…ìš© ì„ë² ë””ë“œ ì‹œìŠ¤í…œ

**ì˜ˆì‹œ: ê³µì¥ ìë™í™” ì»¨íŠ¸ë¡¤ëŸ¬**
```bash
# ì‹¤ì‹œê°„ ì„±ëŠ¥ ìµœì í™”
DISTRO_FEATURES:append = " rt"
PREFERRED_PROVIDER_virtual/kernel = "linux-yocto-rt"

# ì‚°ì—…ìš© í”„ë¡œí† ì½œ ì§€ì›
IMAGE_INSTALL:append = " modbus-tools can-utils"
IMAGE_INSTALL:append = " opcua-server fieldbus-tools"

# ì•ˆì •ì„± ê°•í™”
IMAGE_FEATURES += "read-only-rootfs"
INHERIT += "rm_work"  # ë¹Œë“œ í›„ ì •ë¦¬ë¡œ ê³µê°„ ì ˆì•½
```

### 3. ìë™ì°¨ ì „ì¥ ì‹œìŠ¤í…œ

**ì˜ˆì‹œ: ì¸í¬í…Œì¸ë¨¼íŠ¸ ì‹œìŠ¤í…œ**
```bash
# ë©€í‹°ë¯¸ë””ì–´ ìŠ¤íƒ
DISTRO_FEATURES:append = " opengl wayland"
IMAGE_INSTALL:append = " gstreamer1.0 ffmpeg"
IMAGE_INSTALL:append = " qt5-base qt5-multimedia"

# ìë™ì°¨ í†µì‹  í”„ë¡œí† ì½œ
IMAGE_INSTALL:append = " can-utils canutils"
IMAGE_INSTALL:append = " automotive-dlt"

# ë³´ì•ˆ ë° ê¸°ëŠ¥ ì•ˆì „
DISTRO_FEATURES:append = " selinux"
IMAGE_FEATURES += "read-only-rootfs"
```

## ë‹¤ìŒ ë‹¨ê³„ í•™ìŠµ ë¡œë“œë§µ

### ğŸš€ ë‹¨ê³„ë³„ í•™ìŠµ ê²½ë¡œ

=== "ì´ˆê¸‰ â†’ ì¤‘ê¸‰ (1-3ê°œì›”)"
    **ëª©í‘œ**: ì‹¤ì œ í•˜ë“œì›¨ì–´ì—ì„œ ë™ì‘í•˜ëŠ” ì‹œìŠ¤í…œ êµ¬ì¶•
    
    **í•™ìŠµ ë‚´ìš©**:
    - ë¼ì¦ˆë² ë¦¬íŒŒì´/BeagleBone íƒ€ê²ŸíŒ…
    - ê¸°ë³¸ ë””ë°”ì´ìŠ¤ ë“œë¼ì´ë²„ í†µí•©
    - ë„¤íŠ¸ì›Œí¬ ë° ê·¸ë˜í”½ ì„¤ì •
    - ê¸°ë³¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ
    
    **ì‹¤ìŠµ í”„ë¡œì íŠ¸**:
    ```bash
    # ë¼ì¦ˆë² ë¦¬íŒŒì´ ê¸°ë°˜ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ
    MACHINE = "raspberrypi4"
    IMAGE_INSTALL:append = " python3-flask"
    IMAGE_INSTALL:append = " python3-requests sensor-tools"
    ```

=== "ì¤‘ê¸‰ â†’ ê³ ê¸‰ (3-6ê°œì›”)"
    **ëª©í‘œ**: í”„ë¡œë•ì…˜ ìˆ˜ì¤€ì˜ ì‹œìŠ¤í…œ êµ¬ì¶•
    
    **í•™ìŠµ ë‚´ìš©**:
    - BSP(Board Support Package) ê°œë°œ
    - ì»¤ë„ ì»¤ìŠ¤í„°ë§ˆì´ì§•
    - ë©€í‹°ë¯¸ë””ì–´ ìŠ¤íƒ í†µí•©
    - ë³´ì•ˆ ê°•í™” ë° ì¸ì¦
    
    **ì‹¤ìŠµ í”„ë¡œì íŠ¸**:
    ```bash
    # ì»¤ìŠ¤í…€ í•˜ë“œì›¨ì–´ ì§€ì›
    bitbake-layers create-layer ../meta-customboard
    # ì»¤ë„ íŒ¨ì¹˜ ì ìš©
    # ì „ìš© ë””ë°”ì´ìŠ¤ ë“œë¼ì´ë²„ ê°œë°œ
    ```

=== "ê³ ê¸‰ â†’ ì „ë¬¸ê°€ (6ê°œì›”+)"
    **ëª©í‘œ**: ëŒ€ê·œëª¨ í”„ë¡œë•ì…˜ í™˜ê²½ ìš´ì˜
    
    **í•™ìŠµ ë‚´ìš©**:
    - ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ êµ¬ì„±
    - CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
    - OTA ì—…ë°ì´íŠ¸ ì‹œìŠ¤í…œ
    - ë©€í‹° ì•„í‚¤í…ì²˜ ì§€ì›
    
    **ì‹¤ìŠµ í”„ë¡œì íŠ¸**:
    ```bash
    # ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ
    DISTRO_FEATURES:append = " rt"
    
    # ìë™í™”ëœ ë¹Œë“œ ì‹œìŠ¤í…œ
    # Jenkins/GitHub Actions í†µí•©
    
    # A/B íŒŒí‹°ì…˜ ì—…ë°ì´íŠ¸
    INHERIT += "swupdate"
    ```

## ì‹¤ë¬´ í™œìš© ì²´í¬ë¦¬ìŠ¤íŠ¸

### ğŸ“‹ í”„ë¡œì íŠ¸ ì‹œì‘ ì „ í™•ì¸ì‚¬í•­

!!! warning "í•˜ë“œì›¨ì–´ ê´€ë ¨"
    - [ ] íƒ€ê²Ÿ CPU ì•„í‚¤í…ì²˜ í™•ì¸ (ARM, x86, RISC-V ë“±)
    - [ ] ë©”ëª¨ë¦¬ í¬ê¸° ë° ì €ì¥ì†Œ ìš©ëŸ‰ íŒŒì•…
    - [ ] í•„ìš”í•œ ì£¼ë³€ì¥ì¹˜ ë° ì¸í„°í˜ì´ìŠ¤ ì •ì˜
    - [ ] ê¸°ì¡´ BSP ì§€ì› ì—¬ë¶€ í™•ì¸

!!! info "ì†Œí”„íŠ¸ì›¨ì–´ ìš”êµ¬ì‚¬í•­"
    - [ ] ì‹¤ì‹œê°„ ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­ ë¶„ì„
    - [ ] í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° í”„ë ˆì„ì›Œí¬ ëª©ë¡
    - [ ] ë¼ì´ì„ ìŠ¤ ì •ì±… ìˆ˜ë¦½
    - [ ] ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ ì •ì˜

!!! success "ê°œë°œ í™˜ê²½"
    - [ ] íŒ€ ë‚´ ê°œë°œ í™˜ê²½ í‘œì¤€í™”
    - [ ] ë¹Œë“œ ì„œë²„ ë° CI/CD ì„¤ì •
    - [ ] ì½”ë“œ ë¦¬ë·° í”„ë¡œì„¸ìŠ¤ êµ¬ì¶•
    - [ ] í…ŒìŠ¤íŠ¸ ìë™í™” ê³„íš

### ğŸ”§ ê°œë°œ ê³¼ì • ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

```bash
# 1. í”„ë¡œì íŠ¸ êµ¬ì¡° í‘œì¤€í™”
project/
â”œâ”€â”€ meta-layers/          # ì»¤ìŠ¤í…€ ë ˆì´ì–´ë“¤
â”œâ”€â”€ build/               # ë¹Œë“œ ë””ë ‰í† ë¦¬  
â”œâ”€â”€ downloads/           # ê³µìœ  ë‹¤ìš´ë¡œë“œ ìºì‹œ
â”œâ”€â”€ sstate-cache/        # ê³µìœ  ìƒíƒœ ìºì‹œ
â”œâ”€â”€ scripts/             # ìë™í™” ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ docs/                # í”„ë¡œì íŠ¸ ë¬¸ì„œ

# 2. ë²„ì „ ê´€ë¦¬
git submodule add https://git.yoctoproject.org/poky
git submodule add https://github.com/openembedded/meta-openembedded

# 3. ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ìë™í™”
#!/bin/bash
source poky/oe-init-build-env build
bitbake my-custom-image
```

## ìœ ìš©í•œ ë¦¬ì†ŒìŠ¤ ë° ì»¤ë®¤ë‹ˆí‹°

### ğŸ“š ê³µì‹ ë¬¸ì„œ ë° ìë£Œ

| ë¦¬ì†ŒìŠ¤ | ìš©ë„ | ë§í¬ |
|--------|------|------|
| **Yocto Project Manual** | ì¢…í•© ê°€ì´ë“œ | [docs.yoctoproject.org](https://docs.yoctoproject.org/) |
| **OpenEmbedded Layer Index** | ë ˆì´ì–´ ê²€ìƒ‰ | [layers.openembedded.org](https://layers.openembedded.org/) |
| **Yocto Project Wiki** | íŒ & íŠ¸ë¦­ | [wiki.yoctoproject.org](https://wiki.yoctoproject.org/) |
| **BitBake User Manual** | ë¹Œë“œ ì‹œìŠ¤í…œ ì‹¬í™” | [docs.yoctoproject.org/bitbake](https://docs.yoctoproject.org/bitbake/) |

### ğŸŒ ì»¤ë®¤ë‹ˆí‹° ë° ì§€ì›

!!! tip "í™œë°œí•œ ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬"
    - **ë©”ì¼ë§ ë¦¬ìŠ¤íŠ¸**: [Yocto Project ë©”ì¼ë§ ë¦¬ìŠ¤íŠ¸](https://lists.yoctoproject.org/)
    - **IRC ì±„ë„**: #yocto on libera.chat
    - **Stack Overflow**: [yocto íƒœê·¸](https://stackoverflow.com/questions/tagged/yocto)
    - **Reddit**: [r/embedded](https://reddit.com/r/embedded)

### ğŸ“– ì¶”ì²œ ì„œì 

1. **"Embedded Linux Systems with the Yocto Project"** - Rudolf J. Streif
2. **"Learning Embedded Linux Using the Yocto Project"** - Alexandru Vaduva
3. **"Yocto for Raspberry Pi"** - Pierre-Jean Texier

## ì‹¤ë¬´ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

### ğŸš¨ ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤

!!! danger "ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±"
    **ì¦ìƒ**: "No space left on device" ì—ëŸ¬
    **í•´ê²°ì±…**:
    ```bash
    # ì„ì‹œ íŒŒì¼ ì •ë¦¬
    rm -rf tmp/
    
    # ì˜¤ë˜ëœ ìºì‹œ ì •ë¦¬
    find sstate-cache/ -atime +30 -delete
    
    # rm_work í´ë˜ìŠ¤ í™œìš©
    INHERIT += "rm_work"
    ```

!!! warning "ë¹Œë“œ ì‹œê°„ ê³¼ë‹¤"
    **ì¦ìƒ**: ì²« ë¹Œë“œê°€ 6ì‹œê°„ ì´ìƒ ì†Œìš”
    **í•´ê²°ì±…**:
    ```bash
    # ë³‘ë ¬ ë¹Œë“œ ìµœì í™”
    BB_NUMBER_THREADS = "8"
    PARALLEL_MAKE = "-j 8"
    
    # ë„¤íŠ¸ì›Œí¬ ìºì‹œ í™œìš©
    SSTATE_MIRRORS = "file://.* http://sstate.yoctoproject.org/PATH"
    ```

!!! info "íŒ¨í‚¤ì§€ ì¶©ëŒ"
    **ì¦ìƒ**: "conflicts with" ë©”ì‹œì§€
    **í•´ê²°ì±…**:
    ```bash
    # ì¶©ëŒ íŒ¨í‚¤ì§€ ì œì™¸
    BAD_RECOMMENDATIONS += "conflicting-package"
    
    # ëŒ€ì²´ íŒ¨í‚¤ì§€ ì‚¬ìš©
    PREFERRED_PROVIDER_virtual/kernel = "linux-custom"
    ```

### ğŸ” ë””ë²„ê¹… ë„êµ¬ í™œìš©

```bash
# 1. í™˜ê²½ ë³€ìˆ˜ ë¶„ì„
bitbake -e recipe-name | grep VARIABLE

# 2. ì˜ì¡´ì„± ì¶”ì 
bitbake -g recipe-name
dot -Tpng pn-depends.dot -o depends.png

# 3. ë¹Œë“œ ë¡œê·¸ ë¶„ì„
bitbake recipe-name -c compile -v

# 4. ê°œë°œ ì‰˜ ì§„ì…
bitbake -c devshell recipe-name
```

## ë§ˆë¬´ë¦¬ ë©”ì‹œì§€

### ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤!

ì—¬ëŸ¬ë¶„ì€ ì´ì œ **Yocto Projectë¥¼ í™œìš©í•œ ì„ë² ë””ë“œ Linux ì‹œìŠ¤í…œ ê°œë°œ**ì˜ ì „ì²´ ì›Œí¬í”Œë¡œìš°ë¥¼ ì´í•´í•˜ê³  ì‹¤ìŠµí•´ë³´ì•˜ìŠµë‹ˆë‹¤. 

### ğŸ’ª ì•ìœ¼ë¡œì˜ ì—¬ì •

ì´ ê°•ì˜ëŠ” ì‹œì‘ì¼ ë¿ì…ë‹ˆë‹¤. ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ”:

- **ë” ë³µì¡í•œ í•˜ë“œì›¨ì–´** ì§€ì›ì´ í•„ìš”í•  ê²ƒì…ë‹ˆë‹¤
- **ì„±ëŠ¥ ìµœì í™”**ê°€ ì¤‘ìš”í•œ ê³¼ì œê°€ ë  ê²ƒì…ë‹ˆë‹¤  
- **ë³´ì•ˆê³¼ ì•ˆì •ì„±**ì´ í•µì‹¬ ìš”êµ¬ì‚¬í•­ì´ ë  ê²ƒì…ë‹ˆë‹¤
- **íŒ€ í˜‘ì—…ê³¼ CI/CD**ê°€ í•„ìˆ˜ê°€ ë  ê²ƒì…ë‹ˆë‹¤

### ğŸ¤ ì§€ì†ì ì¸ í•™ìŠµ

YoctoëŠ” ë¹ ë¥´ê²Œ ë°œì „í•˜ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ìƒˆë¡œìš´ LTS ë²„ì „ê³¼ ê¸°ëŠ¥ë“¤ì„ ì§€ì†ì ìœ¼ë¡œ í•™ìŠµí•˜ë©°, ì»¤ë®¤ë‹ˆí‹°ì— ì ê·¹ì ìœ¼ë¡œ ì°¸ì—¬í•´ë³´ì„¸ìš”.

**ì—¬ëŸ¬ë¶„ì˜ ì„ë² ë””ë“œ Linux ê°œë°œ ì—¬ì •ì— í–‰ìš´ì„ ë¹•ë‹ˆë‹¤!** ğŸš€

---

## ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)

??? question "Q: ë¹Œë“œ ì‹œê°„ì„ ë” ì¤„ì¼ ìˆ˜ ìˆëŠ” ë°©ë²•ì€?"
    **A**: ë‹¤ìŒ ë°©ë²•ë“¤ì„ í™œìš©í•˜ì„¸ìš”:
    
    - **sstate-cache ê³µìœ **: íŒ€ ë‚´ì—ì„œ ë„¤íŠ¸ì›Œí¬ ê³µìœ  ì„¤ì •
    - **DL_DIR ê³µìœ **: ë‹¤ìš´ë¡œë“œ ìºì‹œë¥¼ ê³µìœ  ìŠ¤í† ë¦¬ì§€ì— ì„¤ì •
    - **ë³‘ë ¬ ë¹Œë“œ ìµœì í™”**: CPU ì½”ì–´ ìˆ˜ì— ë§ì¶° ì„¤ì •
    - **ì›¹ ìºì‹œ í™œìš©**: ê³µì‹ sstate ë¯¸ëŸ¬ ì‚¬ìš©
    - **ccache í™œì„±í™”**: ì»´íŒŒì¼ ìºì‹œë¡œ ì¬ë¹Œë“œ ì‹œê°„ ë‹¨ì¶•

??? question "Q: ìƒìš© ì œí’ˆì— Yoctoë¥¼ ì ìš©í•  ë•Œ ì£¼ì˜ì‚¬í•­ì€?"
    **A**: ë‹¤ìŒ ì‚¬í•­ë“¤ì„ ê³ ë ¤í•˜ì„¸ìš”:
    
    - **ë¼ì´ì„ ìŠ¤ ê´€ë¦¬**: GPL/LGPL ë¼ì´ì„ ìŠ¤ ì¶”ì  ë° ê´€ë¦¬
    - **ë³´ì•ˆ ì—…ë°ì´íŠ¸**: CVE ëŒ€ì‘ ë° ì •ê¸° ì—…ë°ì´íŠ¸ ê³„íš
    - **LTS ë²„ì „ ì‚¬ìš©**: ì¥ê¸° ì§€ì› ë²„ì „ìœ¼ë¡œ ì•ˆì •ì„± í™•ë³´
    - **ë°±ì—… ê³„íš**: ë¹Œë“œ í™˜ê²½ ë° ì†ŒìŠ¤ ì½”ë“œ ë°±ì—…
    - **ë¬¸ì„œí™”**: ë¹Œë“œ ê³¼ì • ë° ì»¤ìŠ¤í„°ë§ˆì´ì§• ë‚´ìš© ë¬¸ì„œí™”

??? question "Q: ë‹¤ë¥¸ ë¹Œë“œ ì‹œìŠ¤í…œ(Buildroot ë“±)ê³¼ ë¹„êµí–ˆì„ ë•Œ Yoctoì˜ ì¥ì ì€?"
    **A**: Yoctoì˜ ì£¼ìš” ì¥ì :
    
    - **í™•ì¥ì„±**: ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì— ì í•©í•œ ë ˆì´ì–´ ì‹œìŠ¤í…œ
    - **ìœ ì—°ì„±**: ì™„ì „í•œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥
    - **í‘œì¤€í™”**: ì—…ê³„ í‘œì¤€ìœ¼ë¡œ ë„ë¦¬ ì‚¬ìš©
    - **ì»¤ë®¤ë‹ˆí‹°**: í™œë°œí•œ ì»¤ë®¤ë‹ˆí‹°ì™€ í’ë¶€í•œ ë ˆì´ì–´
    - **ìƒìš© ì§€ì›**: ë©˜í† ê·¸ë˜í”½ìŠ¤, ìœˆë“œë¦¬ë²„ ë“± ìƒìš© ì§€ì›

??? question "Q: Yocto í•™ìŠµ í›„ ë‹¤ìŒì— ë°°ì›Œì•¼ í•  ê¸°ìˆ ì€?"
    **A**: ë‹¤ìŒ ê¸°ìˆ ë“¤ì„ ìˆœì°¨ì ìœ¼ë¡œ í•™ìŠµí•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤:
    
    1. **ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ**: RT kernel, xenomai
    2. **ì»¨í…Œì´ë„ˆ ê¸°ìˆ **: Docker, Kubernetes
    3. **í´ë¼ìš°ë“œ í†µí•©**: AWS IoT, Azure IoT
    4. **ë¨¸ì‹ ëŸ¬ë‹**: TensorFlow Lite, OpenVINO
    5. **ë³´ì•ˆ ê¸°ìˆ **: TEE, Secure Boot

---

â† [ê³ ê¸‰ ì£¼ì œ](advanced.md) | [í™ˆ](../index.md) â†’ 

